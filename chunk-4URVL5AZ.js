import{a as Gt,b as Jt}from"./chunk-QBOVPEU4.js";import{b as Ct,c as vt,d as _t,f as Et,g as At,h as xt,i as St,j as wt,k as Tt,l as It,m as ge,s as bt,t as Nt}from"./chunk-WOBWQHHL.js";import"./chunk-KCGF5SYH.js";import{a as Dt,b as kt,c as Mt,j as Vt}from"./chunk-ETT7W7JD.js";import"./chunk-VS65NCQJ.js";import{F as lt,Ga as ue,Ha as dt,Ma as ut,N as de,Na as gt,O as $,P as ct,Pa as ft,Qa as zt,T as mt,V as ht,X as q,e as at,fb as yt,l as Se,m as rt,n as st,ta as pt,y as Y}from"./chunk-LQMJWFCQ.js";import{d as qe,j as Xe,k as et,o as tt,p as it,q as nt,s as ot,t as pe}from"./chunk-WV4YJ4QP.js";import{$b as Ue,A as U,Ab as Ze,Ba as B,Bb as c,C as Pe,Ca as V,Cb as se,Da as P,Db as O,E as Ce,Gc as $e,Ha as oe,Hb as C,Ic as W,Ja as F,Jb as ve,Ka as Z,Kb as ye,L as Fe,Lb as _e,Ma as ae,Mb as d,Mc as he,Nb as u,Ob as m,Pb as le,Qb as ce,Rb as He,Sb as H,Ub as Ge,Yb as b,Z as ie,Zb as Je,_ as E,_b as s,a as De,ac as Ke,ba as Le,c as te,cc as Ee,db as Oe,dc as Ae,ec as xe,f as T,fc as S,ga as Qe,gb as l,gc as v,h as fe,ha as A,hb as f,hc as N,ic as D,j as ke,ja as Re,jc as We,la as K,m as J,ma as R,oc as me,pc as k,ra as I,rc as Ye,s as Me,sa as x,sb as je,t as ze,ta as ne,tc as L,ua as Be,ub as re,vc as Q,xb as h,xc as w,z as Ve}from"./chunk-NPSVTU3I.js";import{$ as Ii,Aa as we,Ab as Bt,Bb as Ot,Ca as tn,Da as nn,Db as jt,Ea as on,Fa as an,Ga as rn,Ha as sn,Ia as ln,Ib as Zt,Ja as cn,Ka as mn,La as hn,Lb as Ht,Ma as pn,Na as dn,Oa as un,S as yi,T as _i,U as Ei,W as Ai,X as xi,Xa as Pt,Y as Si,Ya as Ft,Z as wi,Za as Lt,_ as Ti,a as di,aa as bi,b as ui,ba as Ni,ca as Di,da as ki,ea as Mi,fa as Vi,ga as Pi,ha as Fi,ia as Li,ja as Qi,ka as Ri,la as Bi,ma as Oi,n as gi,na as ji,oa as Zi,p as fi,pa as Hi,q as zi,qa as Gi,ra as Ji,sa as Ui,ta as Ki,tb as Qt,u as Ci,ua as Wi,va as Yi,vb as Rt,w as vi,wa as $i,xa as qi,ya as Xi,za as en}from"./chunk-4UKFF7AS.js";import{a as M,d as pi,e as j}from"./chunk-JKOY2XUY.js";var Te=class{constructor(){this.subject=new fe(1),this.subscriptions=new De}doFilter(o){this.subject.next(o)}dispose(){this.subscriptions.unsubscribe()}notEmpty(o,e){this.subscriptions.add(this.subject.subscribe(i=>{if(i[o]){let n=i[o].currentValue;n!=null&&e(n)}}))}has(o,e){this.subscriptions.add(this.subject.subscribe(i=>{if(i[o]){let n=i[o].currentValue;e(n)}}))}notFirst(o,e){this.subscriptions.add(this.subject.subscribe(i=>{if(i[o]&&!i[o].isFirstChange()){let n=i[o].currentValue;e(n)}}))}notFirstAndEmpty(o,e){this.subscriptions.add(this.subject.subscribe(i=>{if(i[o]&&!i[o].isFirstChange()){let n=i[o].currentValue;n!=null&&e(n)}}))}},Ut=new Re("NGX_ECHARTS_CONFIG"),Kt=(()=>{class t{constructor(e,i,n){this.el=i,this.ngZone=n,this.options=null,this.theme=null,this.initOpts=null,this.merge=null,this.autoResize=!0,this.loading=!1,this.loadingType="default",this.loadingOpts=null,this.chartInit=new F,this.optionsError=new F,this.chartClick=this.createLazyEvent("click"),this.chartDblClick=this.createLazyEvent("dblclick"),this.chartMouseDown=this.createLazyEvent("mousedown"),this.chartMouseMove=this.createLazyEvent("mousemove"),this.chartMouseUp=this.createLazyEvent("mouseup"),this.chartMouseOver=this.createLazyEvent("mouseover"),this.chartMouseOut=this.createLazyEvent("mouseout"),this.chartGlobalOut=this.createLazyEvent("globalout"),this.chartContextMenu=this.createLazyEvent("contextmenu"),this.chartHighlight=this.createLazyEvent("highlight"),this.chartDownplay=this.createLazyEvent("downplay"),this.chartSelectChanged=this.createLazyEvent("selectchanged"),this.chartLegendSelectChanged=this.createLazyEvent("legendselectchanged"),this.chartLegendSelected=this.createLazyEvent("legendselected"),this.chartLegendUnselected=this.createLazyEvent("legendunselected"),this.chartLegendLegendSelectAll=this.createLazyEvent("legendselectall"),this.chartLegendLegendInverseSelect=this.createLazyEvent("legendinverseselect"),this.chartLegendScroll=this.createLazyEvent("legendscroll"),this.chartDataZoom=this.createLazyEvent("datazoom"),this.chartDataRangeSelected=this.createLazyEvent("datarangeselected"),this.chartGraphRoam=this.createLazyEvent("graphroam"),this.chartGeoRoam=this.createLazyEvent("georoam"),this.chartTreeRoam=this.createLazyEvent("treeroam"),this.chartTimelineChanged=this.createLazyEvent("timelinechanged"),this.chartTimelinePlayChanged=this.createLazyEvent("timelineplaychanged"),this.chartRestore=this.createLazyEvent("restore"),this.chartDataViewChanged=this.createLazyEvent("dataviewchanged"),this.chartMagicTypeChanged=this.createLazyEvent("magictypechanged"),this.chartGeoSelectChanged=this.createLazyEvent("geoselectchanged"),this.chartGeoSelected=this.createLazyEvent("geoselected"),this.chartGeoUnselected=this.createLazyEvent("geounselected"),this.chartAxisAreaSelected=this.createLazyEvent("axisareaselected"),this.chartBrush=this.createLazyEvent("brush"),this.chartBrushEnd=this.createLazyEvent("brushend"),this.chartBrushSelected=this.createLazyEvent("brushselected"),this.chartGlobalCursorTaken=this.createLazyEvent("globalcursortaken"),this.chartRendered=this.createLazyEvent("rendered"),this.chartFinished=this.createLazyEvent("finished"),this.animationFrameID=null,this.chart$=new fe(1),this.resize$=new T,this.changeFilter=new Te,this.resizeObFired=!1,this.echarts=e.echarts,this.theme=e.theme||null}ngOnChanges(e){this.changeFilter.doFilter(e)}ngOnInit(){if(!window.ResizeObserver)throw new Error("please install a polyfill for ResizeObserver");this.resizeSub=this.resize$.pipe(Le(100,ke,{leading:!1,trailing:!0})).subscribe(()=>this.resize()),this.autoResize&&(this.resizeOb=this.ngZone.runOutsideAngular(()=>new window.ResizeObserver(e=>{for(let i of e)i.target===this.el.nativeElement&&(this.resizeObFired?this.animationFrameID=window.requestAnimationFrame(()=>{this.resize$.next()}):this.resizeObFired=!0)})),this.resizeOb.observe(this.el.nativeElement)),this.changeFilter.notFirstAndEmpty("options",e=>this.onOptionsChange(e)),this.changeFilter.notFirstAndEmpty("merge",e=>this.setOption(e)),this.changeFilter.has("loading",e=>this.toggleLoading(!!e)),this.changeFilter.notFirst("theme",()=>this.refreshChart())}ngOnDestroy(){window.clearTimeout(this.initChartTimer),this.resizeSub&&this.resizeSub.unsubscribe(),this.animationFrameID&&window.cancelAnimationFrame(this.animationFrameID),this.resizeOb&&this.resizeOb.unobserve(this.el.nativeElement),this.loadingSub&&this.loadingSub.unsubscribe(),this.changeFilter.dispose(),this.dispose()}ngAfterViewInit(){this.initChartTimer=window.setTimeout(()=>this.initChart())}dispose(){this.chart&&(this.chart.isDisposed()||this.chart.dispose(),this.chart=null)}resize(){this.chart&&this.chart.resize()}toggleLoading(e){this.chart?e?this.chart.showLoading(this.loadingType,this.loadingOpts):this.chart.hideLoading():this.loadingSub=this.chart$.subscribe(i=>e?i.showLoading(this.loadingType,this.loadingOpts):i.hideLoading())}setOption(e,i){if(this.chart)try{this.chart.setOption(e,i)}catch(n){console.error(n),this.optionsError.emit(n)}}refreshChart(){return j(this,null,function*(){this.dispose(),yield this.initChart()})}createChart(){let e=this.el.nativeElement;if(window&&window.getComputedStyle){let i=window.getComputedStyle(e,null).getPropertyValue("height");(!i||i==="0px")&&(!e.style.height||e.style.height==="0px")&&(e.style.height="400px")}return this.ngZone.runOutsideAngular(()=>(typeof this.echarts=="function"?this.echarts:()=>Promise.resolve(this.echarts))().then(({init:n})=>n(e,this.theme,this.initOpts)))}initChart(){return j(this,null,function*(){yield this.onOptionsChange(this.options),this.merge&&this.chart&&this.setOption(this.merge)})}onOptionsChange(e){return j(this,null,function*(){e&&(this.chart?this.setOption(this.options,!0):(this.chart=yield this.createChart(),this.chart$.next(this.chart),this.chartInit.emit(this.chart),this.setOption(this.options,!0)))})}createLazyEvent(e){return this.chartInit.pipe(ie(i=>new te(n=>(i.on(e,a=>this.ngZone.run(()=>n.next(a))),()=>{this.chart&&(this.chart.isDisposed()||i.off(e))}))))}static{this.\u0275fac=function(i){return new(i||t)(f(Ut),f(ae),f(Z))}}static{this.\u0275dir=ne({type:t,selectors:[["echarts"],["","echarts",""]],inputs:{options:"options",theme:"theme",initOpts:"initOpts",merge:"merge",autoResize:"autoResize",loading:"loading",loadingType:"loadingType",loadingOpts:"loadingOpts"},outputs:{chartInit:"chartInit",optionsError:"optionsError",chartClick:"chartClick",chartDblClick:"chartDblClick",chartMouseDown:"chartMouseDown",chartMouseMove:"chartMouseMove",chartMouseUp:"chartMouseUp",chartMouseOver:"chartMouseOver",chartMouseOut:"chartMouseOut",chartGlobalOut:"chartGlobalOut",chartContextMenu:"chartContextMenu",chartHighlight:"chartHighlight",chartDownplay:"chartDownplay",chartSelectChanged:"chartSelectChanged",chartLegendSelectChanged:"chartLegendSelectChanged",chartLegendSelected:"chartLegendSelected",chartLegendUnselected:"chartLegendUnselected",chartLegendLegendSelectAll:"chartLegendLegendSelectAll",chartLegendLegendInverseSelect:"chartLegendLegendInverseSelect",chartLegendScroll:"chartLegendScroll",chartDataZoom:"chartDataZoom",chartDataRangeSelected:"chartDataRangeSelected",chartGraphRoam:"chartGraphRoam",chartGeoRoam:"chartGeoRoam",chartTreeRoam:"chartTreeRoam",chartTimelineChanged:"chartTimelineChanged",chartTimelinePlayChanged:"chartTimelinePlayChanged",chartRestore:"chartRestore",chartDataViewChanged:"chartDataViewChanged",chartMagicTypeChanged:"chartMagicTypeChanged",chartGeoSelectChanged:"chartGeoSelectChanged",chartGeoSelected:"chartGeoSelected",chartGeoUnselected:"chartGeoUnselected",chartAxisAreaSelected:"chartAxisAreaSelected",chartBrush:"chartBrush",chartBrushEnd:"chartBrushEnd",chartBrushSelected:"chartBrushSelected",chartGlobalCursorTaken:"chartGlobalCursorTaken",chartRendered:"chartRendered",chartFinished:"chartFinished"},exportAs:["echarts"],standalone:!0,features:[B]})}}return t})();var Wt=t=>({provide:Ut,useValue:t});var Ie={};pi(Ie,{Axis:()=>mn,ChartView:()=>Si,ComponentModel:()=>Ei,ComponentView:()=>xi,List:()=>tn,Model:()=>yi,PRIORITY:()=>Ni,SeriesModel:()=>Ai,color:()=>Ci,connect:()=>ki,dataTool:()=>en,dependencies:()=>bi,disConnect:()=>Vi,disconnect:()=>Mi,dispose:()=>Pi,env:()=>di,extendChartView:()=>un,extendComponentModel:()=>hn,extendComponentView:()=>pn,extendSeriesModel:()=>dn,format:()=>ln,getCoordinateSystemDimensions:()=>Ji,getInstanceByDom:()=>Fi,getInstanceById:()=>Li,getMap:()=>qi,graphic:()=>sn,helper:()=>nn,init:()=>Di,innerDrawElementOnCanvas:()=>Ti,matrix:()=>zi,number:()=>an,parseGeoJSON:()=>on,parseGeoJson:()=>on,registerAction:()=>Hi,registerCoordinateSystem:()=>Gi,registerLayout:()=>Ui,registerLoading:()=>Wi,registerLocale:()=>_i,registerMap:()=>$i,registerPostInit:()=>Oi,registerPostUpdate:()=>ji,registerPreprocessor:()=>Ri,registerProcessor:()=>Bi,registerTheme:()=>Qi,registerTransform:()=>Xi,registerUpdateLifecycle:()=>Zi,registerVisual:()=>Ki,setCanvasCreator:()=>Yi,setPlatformAPI:()=>ui,throttle:()=>wi,time:()=>rn,use:()=>we,util:()=>cn,vector:()=>fi,version:()=>Ii,zrUtil:()=>gi,zrender:()=>vi});var Yt=(()=>{class t{transform(e,i="HH:mm:ss"){let n=Number(e||0);return yt.reduce((a,[p,r])=>{if(a.indexOf(p)!==-1){let g=Math.floor(n/r);return n-=g*r,a.replace(new RegExp(`${p}+`,"g"),z=>lt(g.toString(),z.length,"0"))}return a},i)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275pipe=Be({name:"nzTimeRange",type:t,pure:!0,standalone:!0})}}return t})(),$t=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=x({type:t})}static{this.\u0275inj=A({})}}return t})();var zn=t=>({$implicit:t});function Cn(t,o){if(t&1&&He(0,1),t&2){let e=s();c("ngTemplateOutlet",e.nzValueTemplate)("ngTemplateOutletContext",Ye(2,zn,e.nzValue))}}function vn(t,o){if(t&1&&(d(0,"span",2),v(1),u()),t&2){let e=s(2);l(),N(e.displayInt)}}function yn(t,o){if(t&1&&(d(0,"span",3),v(1),u()),t&2){let e=s(2);l(),N(e.displayDecimal)}}function _n(t,o){if(t&1&&h(0,vn,2,1,"span",2)(1,yn,2,1,"span",3),t&2){let e=s();C(e.displayInt?0:-1),l(),C(e.displayDecimal?1:-1)}}function En(t,o){if(t&1&&(le(0),v(1),ce()),t&2){let e=s();l(),N(e.nzTitle)}}function An(t,o){t&1&&m(0,"nz-skeleton",2),t&2&&c("nzParagraph",!1)}function xn(t,o){if(t&1&&(le(0),v(1),ce()),t&2){let e=s(3);l(),N(e.nzPrefix)}}function Sn(t,o){if(t&1&&(d(0,"span",4),h(1,xn,2,1,"ng-container",1),u()),t&2){let e=s(2);l(),c("nzStringTemplateOutlet",e.nzPrefix)}}function wn(t,o){if(t&1&&(le(0),v(1),ce()),t&2){let e=s(3);l(),N(e.nzSuffix)}}function Tn(t,o){if(t&1&&(d(0,"span",6),h(1,wn,2,1,"ng-container",1),u()),t&2){let e=s(2);l(),c("nzStringTemplateOutlet",e.nzSuffix)}}function In(t,o){if(t&1&&(d(0,"div",3),h(1,Sn,2,1,"span",4),m(2,"nz-statistic-number",5),h(3,Tn,2,1,"span",6),u()),t&2){let e=s();c("ngStyle",e.nzValueStyle),l(),C(e.nzPrefix?1:-1),l(),c("nzValue",e.nzValue)("nzValueTemplate",e.nzValueTemplate),l(),C(e.nzSuffix?3:-1)}}function bn(t,o){if(t&1&&(v(0),L(1,"nzTimeRange")),t&2){let e=s();N(Q(1,1,e.diff,e.nzFormat))}}var Nn=(()=>{class t{constructor(){this.displayInt="",this.displayDecimal="",this.locale_id=R($e)}ngOnChanges(){this.formatNumber()}formatNumber(){let e=typeof this.nzValue=="number"?".":et(this.locale_id,Xe.Decimal),i=String(this.nzValue),[n,a]=i.split(e);this.displayInt=n,this.displayDecimal=a?`${e}${a}`:""}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=I({type:t,selectors:[["nz-statistic-number"]],inputs:{nzValue:"nzValue",nzValueTemplate:"nzValueTemplate"},exportAs:["nzStatisticNumber"],standalone:!0,features:[B,k],decls:3,vars:1,consts:[[1,"ant-statistic-content-value"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ant-statistic-content-value-int"],[1,"ant-statistic-content-value-decimal"]],template:function(i,n){i&1&&(d(0,"span",0),h(1,Cn,1,4,"ng-container",1)(2,_n,2,2),u()),i&2&&(l(),C(n.nzValueTemplate?1:2))},dependencies:[nt],encapsulation:2,changeDetection:0})}}return t})(),X=(()=>{class t{constructor(){this.nzValueStyle={},this.nzLoading=!1,this.dir="ltr",this.destroy$=new T,this.cdr=R(W),this.directionality=R(q)}ngOnInit(){this.directionality.change?.pipe(E(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=I({type:t,selectors:[["nz-statistic"]],hostAttrs:[1,"ant-statistic"],hostVars:2,hostBindings:function(i,n){i&2&&O("ant-statistic-rtl",n.dir==="rtl")},inputs:{nzPrefix:"nzPrefix",nzSuffix:"nzSuffix",nzTitle:"nzTitle",nzValue:"nzValue",nzValueStyle:"nzValueStyle",nzValueTemplate:"nzValueTemplate",nzLoading:[2,"nzLoading","nzLoading",he]},exportAs:["nzStatistic"],standalone:!0,features:[re,k],decls:4,vars:2,consts:[[1,"ant-statistic-title"],[4,"nzStringTemplateOutlet"],[1,"ant-statistic-skeleton",3,"nzParagraph"],[1,"ant-statistic-content",3,"ngStyle"],[1,"ant-statistic-content-prefix"],[3,"nzValue","nzValueTemplate"],[1,"ant-statistic-content-suffix"]],template:function(i,n){i&1&&(d(0,"div",0),h(1,En,2,1,"ng-container",1),u(),h(2,An,1,1,"nz-skeleton",2)(3,In,4,5,"div",3)),i&2&&(l(),c("nzStringTemplateOutlet",n.nzTitle),l(),C(n.nzLoading?2:3))},dependencies:[ge,It,Nn,st,rt,it],encapsulation:2,changeDetection:0})}}return t})(),Dn=1e3/30,kn=(()=>{class t extends X{constructor(e,i){super(),this.ngZone=e,this.platform=i,this.nzFormat="HH:mm:ss",this.nzCountdownFinish=new F,this.target=0}ngOnChanges(e){e.nzValue&&(this.target=Number(e.nzValue.currentValue),e.nzValue.isFirstChange()||this.syncTimer())}ngOnInit(){super.ngOnInit(),this.syncTimer()}ngOnDestroy(){this.stopTimer()}syncTimer(){this.target>=Date.now()?this.startTimer():this.stopTimer()}startTimer(){this.platform.isBrowser&&this.ngZone.runOutsideAngular(()=>{this.stopTimer(),this.updater_=Pe(Dn).subscribe(()=>{this.updateValue(),this.cdr.detectChanges()})})}stopTimer(){this.updater_&&(this.updater_.unsubscribe(),this.updater_=null)}updateValue(){this.diff=Math.max(this.target-Date.now(),0),this.diff===0&&(this.stopTimer(),this.nzCountdownFinish.observers.length&&this.ngZone.run(()=>this.nzCountdownFinish.emit()))}static{this.\u0275fac=function(i){return new(i||t)(f(Z),f(ct))}}static{this.\u0275cmp=I({type:t,selectors:[["nz-countdown"]],inputs:{nzFormat:"nzFormat"},outputs:{nzCountdownFinish:"nzCountdownFinish"},exportAs:["nzCountdown"],standalone:!0,features:[je,B,k],decls:3,vars:6,consts:[["countDownTpl",""],[3,"nzValue","nzValueStyle","nzValueTemplate","nzTitle","nzPrefix","nzSuffix"]],template:function(i,n){if(i&1&&(m(0,"nz-statistic",1),h(1,bn,2,4,"ng-template",null,0,w)),i&2){let a=S(2);c("nzValue",n.diff)("nzValueStyle",n.nzValueStyle)("nzValueTemplate",n.nzValueTemplate||a)("nzTitle",n.nzTitle)("nzPrefix",n.nzPrefix)("nzSuffix",n.nzSuffix)}},dependencies:[X,$t,Yt],encapsulation:2,changeDetection:0})}}return t})(),qt=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=x({type:t})}static{this.\u0275inj=A({imports:[X,kn]})}}return t})();var Vn=["*"],Pn=["imgRef"],Fn=["imagePreviewWrapper"];function Ln(t,o){if(t&1){let e=H();d(0,"div",13),b("click",function(n){V(e);let a=s();return P(a.onSwitchLeft(n))}),m(1,"span",14),u(),d(2,"div",15),b("click",function(n){V(e);let a=s();return P(a.onSwitchRight(n))}),m(3,"span",16),u()}if(t&2){let e=s();O("ant-image-preview-switch-left-disabled",e.index<=0),l(2),O("ant-image-preview-switch-right-disabled",e.index>=e.images.length-1)}}function Qn(t,o){if(t&1&&(d(0,"li",5),v(1),u()),t&2){let e=s();l(),We("",e.index+1," / ",e.images.length,"")}}function Rn(t,o){if(t&1){let e=H();d(0,"li",17),b("click",function(){let n=V(e).$implicit;return P(n.onClick())}),m(1,"span",18),u()}if(t&2){let e,i=o.$implicit,n=s();O("ant-image-preview-operations-operation-disabled",n.zoomOutDisabled&&i.type==="zoomOut"),l(),c("nzType",i.icon)("nzRotate",(e=i.rotate)!==null&&e!==void 0?e:0)}}function Bn(t,o){if(t&1&&m(0,"img",20,1),t&2){let e=s().$implicit,i=s();se("width",e.width)("height",e.height)("transform",i.previewImageTransform),Ze("src",i.sanitizerResourceUrl(e.src),Oe)("srcset",e.srcset)("alt",e.alt)}}function On(t,o){if(t&1&&h(0,Bn,2,9,"img",19),t&2){let e=o.$index,i=s();C(e===i.index?0:-1)}}var jn=(()=>{class t{constructor(){this.nzScaleStep=null,this.images=[]}addImage(e){this.images.push(e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=I({type:t,selectors:[["nz-image-group"]],inputs:{nzScaleStep:"nzScaleStep"},exportAs:["nzImageGroup"],standalone:!0,features:[k],ngContentSelectors:Vn,decls:1,vars:0,template:function(i,n){i&1&&(Ue(),Ke(0))},encapsulation:2,changeDetection:0})}}return t})();var oi="image";function Zn(t){let o={};return t.width<=t.clientWidth&&t.height<=t.clientHeight&&(o={x:0,y:0}),(t.width>t.clientWidth||t.height>t.clientHeight)&&(o={x:ii(t.left,t.width,t.clientWidth),y:ii(t.top,t.height,t.clientHeight)}),o}function Hn(t){let o=t.getBoundingClientRect(),e=document.documentElement;return{left:o.left+(window.pageXOffset||e.scrollLeft)-(e.clientLeft||document.body.clientLeft||0),top:o.top+(window.pageYOffset||e.scrollTop)-(e.clientTop||document.body.clientTop||0)}}function Gn(){let t=document.documentElement.clientWidth,o=window.innerHeight||document.documentElement.clientHeight;return{width:t,height:o}}function ii(t,o,e){let i=t+o,n=(o-e)/2,a=null;return o>e?(t>0&&(a=n),t<0&&i<e&&(a=-n)):(t<0||i>e)&&(a=t<0?n:-n),a}var ee=class{constructor(){this.nzKeyboard=!0,this.nzNoAnimation=!1,this.nzMaskClosable=!0,this.nzCloseOnNavigation=!0}},ni={x:0,y:0},be=.5,Jn=1,Un=0,ai=(()=>{class t{get animationDisabled(){return this.config.nzNoAnimation??!1}get maskClosable(){let e=this.nzConfigService.getConfigForComponent(oi)||{};return this.config.nzMaskClosable??e.nzMaskClosable??!0}constructor(e,i,n,a,p,r){this.ngZone=e,this.cdr=i,this.nzConfigService=n,this.config=a,this.destroy$=p,this.sanitizer=r,this._defaultNzZoom=Jn,this._defaultNzScaleStep=be,this._defaultNzRotate=Un,this.images=[],this.index=0,this.isDragging=!1,this.visible=!0,this.animationStateChanged=new F,this.scaleStepMap=new Map,this.previewImageTransform="",this.previewImageWrapperTransform="",this.operations=[{icon:"close",onClick:()=>{this.onClose()},type:"close"},{icon:"zoom-in",onClick:()=>{this.onZoomIn()},type:"zoomIn"},{icon:"zoom-out",onClick:()=>{this.onZoomOut()},type:"zoomOut"},{icon:"rotate-right",onClick:()=>{this.onRotateRight()},type:"rotateRight"},{icon:"rotate-left",onClick:()=>{this.onRotateLeft()},type:"rotateLeft"},{icon:"swap",onClick:()=>{this.onHorizontalFlip()},type:"flipHorizontally"},{icon:"swap",onClick:()=>{this.onVerticalFlip()},type:"flipVertically",rotate:90}],this.zoomOutDisabled=!1,this.position=M({},ni),this.closeClick=new F,this.zoom=this.config.nzZoom??this._defaultNzZoom,this.scaleStep=this.config.nzScaleStep??this._defaultNzScaleStep,this.rotate=this.config.nzRotate??this._defaultNzRotate,this.flipHorizontally=this.config.nzFlipHorizontally??!1,this.flipVertically=this.config.nzFlipVertically??!1,this.updateZoomOutDisabled(),this.updatePreviewImageTransform(),this.updatePreviewImageWrapperTransform()}ngOnInit(){this.ngZone.runOutsideAngular(()=>{U(this.imagePreviewWrapper.nativeElement,"mousedown").pipe(E(this.destroy$)).subscribe(()=>{this.isDragging=!0}),U(this.imagePreviewWrapper.nativeElement,"wheel").pipe(E(this.destroy$)).subscribe(e=>{this.ngZone.run(()=>this.wheelZoomEventHandler(e))})})}setImages(e,i){i&&(this.scaleStepMap=i),this.images=e,this.markForCheck()}switchTo(e){this.index=e,this.markForCheck()}next(){this.index<this.images.length-1&&(this.reset(),this.index++,this.updatePreviewImageTransform(),this.updatePreviewImageWrapperTransform(),this.updateZoomOutDisabled(),this.markForCheck())}prev(){this.index>0&&(this.reset(),this.index--,this.updatePreviewImageTransform(),this.updatePreviewImageWrapperTransform(),this.updateZoomOutDisabled(),this.markForCheck())}markForCheck(){this.cdr.markForCheck()}onClose(){this.visible=!1,this.closeClick.emit()}onZoomIn(){let e=this.scaleStepMap.get(this.images[this.index].src??this.images[this.index].srcset)??this.scaleStep;this.zoom+=e,this.updatePreviewImageTransform(),this.updateZoomOutDisabled()}onZoomOut(){if(this.zoom>1){let e=this.scaleStepMap.get(this.images[this.index].src??this.images[this.index].srcset)??this.scaleStep;this.zoom-=e,this.updatePreviewImageTransform(),this.updateZoomOutDisabled(),this.zoom<=1&&this.reCenterImage()}}onRotateRight(){this.rotate+=90,this.updatePreviewImageTransform()}onRotateLeft(){this.rotate-=90,this.updatePreviewImageTransform()}onSwitchLeft(e){e.preventDefault(),e.stopPropagation(),this.prev()}onSwitchRight(e){e.preventDefault(),e.stopPropagation(),this.next()}onHorizontalFlip(){this.flipHorizontally=!this.flipHorizontally,this.updatePreviewImageTransform()}onVerticalFlip(){this.flipVertically=!this.flipVertically,this.updatePreviewImageTransform()}wheelZoomEventHandler(e){e.preventDefault(),e.stopPropagation(),this.handlerImageTransformationWhileZoomingWithMouse(e,e.deltaY),this.handleImageScaleWhileZoomingWithMouse(e.deltaY),this.updatePreviewImageWrapperTransform(),this.updatePreviewImageTransform(),this.markForCheck()}onAnimationStart(e){this.animationStateChanged.emit(e)}onAnimationDone(e){this.animationStateChanged.emit(e)}onDragEnd(e){this.isDragging=!1;let i=this.imageRef.nativeElement.offsetWidth*this.zoom,n=this.imageRef.nativeElement.offsetHeight*this.zoom,{left:a,top:p}=Hn(this.imageRef.nativeElement),{width:r,height:g}=Gn(),z=this.rotate%180!==0,y=Zn({width:z?n:i,height:z?i:n,left:a,top:p,clientWidth:r,clientHeight:g});Y(y.x)||Y(y.y)?this.position=M(M({},this.position),y):!Y(y.x)&&!Y(y.y)&&(this.position={x:e.source.getFreeDragPosition().x,y:e.source.getFreeDragPosition().y})}sanitizerResourceUrl(e){return this.sanitizer.bypassSecurityTrustResourceUrl(e)}updatePreviewImageTransform(){this.previewImageTransform=`scale3d(${this.zoom*(this.flipHorizontally?-1:1)}, ${this.zoom*(this.flipVertically?-1:1)}, 1) rotate(${this.rotate}deg)`}updatePreviewImageWrapperTransform(){this.previewImageWrapperTransform=`translate3d(${this.position.x}px, ${this.position.y}px, 0)`}updateZoomOutDisabled(){this.zoomOutDisabled=this.zoom<=1}handlerImageTransformationWhileZoomingWithMouse(e,i){let n,a=this.imageRef.nativeElement,r=getComputedStyle(a).transform.match(/matrix.*\((.+)\)/);r?n=+r[1].split(", ")[0]:n=this.zoom;let g=(e.clientX-a.getBoundingClientRect().x)/n,z=(e.clientY-a.getBoundingClientRect().y)/n,_=i<0?this.scaleStep/2:-this.scaleStep/2;this.position.x+=-g*_*2+a.offsetWidth*_,this.position.y+=-z*_*2+a.offsetHeight*_}handleImageScaleWhileZoomingWithMouse(e){this.isZoomedInWithMouseWheel(e)?this.onZoomIn():this.onZoomOut(),this.zoom<=1&&this.reCenterImage()}isZoomedInWithMouseWheel(e){return e<0}reset(){this.zoom=this.config.nzZoom??this._defaultNzZoom,this.scaleStep=this.config.nzScaleStep??this._defaultNzScaleStep,this.rotate=this.config.nzRotate??this._defaultNzRotate,this.flipHorizontally=!1,this.flipVertically=!1,this.reCenterImage()}reCenterImage(){this.position=M({},ni)}static{this.\u0275fac=function(i){return new(i||t)(f(Z),f(W),f(de),f(ee),f(ue),f(at))}}static{this.\u0275cmp=I({type:t,selectors:[["nz-image-preview"]],viewQuery:function(i,n){if(i&1&&(Ee(Pn,5),Ee(Fn,7)),i&2){let a;Ae(a=xe())&&(n.imageRef=a.first),Ae(a=xe())&&(n.imagePreviewWrapper=a.first)}},hostAttrs:[1,"ant-image-preview-root"],hostVars:6,hostBindings:function(i,n){i&1&&Je("@fadeMotion.start",function(p){return n.onAnimationStart(p)})("@fadeMotion.done",function(p){return n.onAnimationDone(p)}),i&2&&(Ge("@.disabled",n.config.nzNoAnimation)("@fadeMotion",n.visible?"enter":"leave"),se("z-index",n.config.nzZIndex),O("ant-image-preview-moving",n.isDragging))},exportAs:["nzImagePreview"],standalone:!0,features:[me([ue]),k],decls:17,vars:5,consts:[["imagePreviewWrapper",""],["imgRef",""],[1,"ant-image-preview-mask"],[1,"ant-image-preview-operations-wrapper"],[1,"ant-image-preview-operations"],[1,"ant-image-preview-operations-progress"],[1,"ant-image-preview-operations-operation",3,"ant-image-preview-operations-operation-disabled"],["tabindex","-1",1,"ant-image-preview-wrap",3,"click"],["role","dialog","aria-modal","true",1,"ant-image-preview"],["tabindex","0","aria-hidden","true",1,"ant-image-preview-focus-trap"],[1,"ant-image-preview-content"],[1,"ant-image-preview-body"],["cdkDrag","",1,"ant-image-preview-img-wrapper",3,"cdkDragEnded","cdkDragFreeDragPosition"],[1,"ant-image-preview-switch-left",3,"click"],["nz-icon","","nzType","left","nzTheme","outline"],[1,"ant-image-preview-switch-right",3,"click"],["nz-icon","","nzType","right","nzTheme","outline"],[1,"ant-image-preview-operations-operation",3,"click"],["nz-icon","","nzTheme","outline",1,"ant-image-preview-operations-icon",3,"nzType","nzRotate"],["cdkDragHandle","",1,"ant-image-preview-img",3,"width","height","transform"],["cdkDragHandle","",1,"ant-image-preview-img"]],template:function(i,n){if(i&1){let a=H();m(0,"div",2),d(1,"div",3),h(2,Ln,4,4),d(3,"ul",4),h(4,Qn,2,2,"li",5),ye(5,Rn,2,4,"li",6,ve),u()(),d(7,"div",7),b("click",function(r){return V(a),P(n.maskClosable&&r.target===r.currentTarget&&n.onClose())}),d(8,"div",8),m(9,"div",9),d(10,"div",10)(11,"div",11)(12,"div",12,0),b("cdkDragEnded",function(r){return V(a),P(n.onDragEnd(r))}),ye(14,On,1,1,null,null,ve),u()()(),m(16,"div",9),u()()}i&2&&(l(2),C(n.images.length>1?2:-1),l(2),C(n.images.length>1?4:-1),l(),_e(n.operations),l(7),se("transform",n.previewImageWrapperTransform),c("cdkDragFreeDragPosition",n.position),l(2),_e(n.images))},dependencies:[ht,mt,Gt,Jt],encapsulation:2,data:{animation:[pt]},changeDetection:0})}}return t})(),Ne=class{constructor(o,e,i){this.previewInstance=o,this.config=e,this.overlayRef=i,this.destroy$=new T,i.keydownEvents().pipe(Ce(n=>this.config.nzKeyboard&&(n.keyCode===27||n.keyCode===37||n.keyCode===39)&&!ut(n))).subscribe(n=>{n.preventDefault(),n.keyCode===27&&o.onClose(),n.keyCode===37&&this.prev(),n.keyCode===39&&this.next()}),i.detachments().subscribe(()=>{this.overlayRef.dispose()}),o.closeClick.pipe(Fe(1),ie(()=>o.animationStateChanged),Ce(n=>n.phaseName==="done"),E(this.destroy$)).subscribe(()=>{this.close()})}switchTo(o){this.previewInstance.switchTo(o)}next(){this.previewInstance.next()}prev(){this.previewInstance.prev()}close(){this.destroy$.next(),this.overlayRef.dispose()}},ri=(()=>{class t{constructor(e,i,n,a){this.overlay=e,this.injector=i,this.nzConfigService=n,this.directionality=a}preview(e,i,n){return this.display(e,i,n)}display(e,i,n){let a=M(M({},new ee),i??{}),p=this.createOverlay(a),r=this.attachPreviewComponent(p,a);r.setImages(e,n);let g=new Ne(r,a,p);return r.previewRef=g,g}attachPreviewComponent(e,i){let n=oe.create({parent:this.injector,providers:[{provide:ft,useValue:e},{provide:ee,useValue:i}]}),a=new dt(ai,null,n);return e.attach(a).instance}createOverlay(e){let i=this.nzConfigService.getConfigForComponent(oi)||{},n=new gt({scrollStrategy:this.overlay.scrollStrategies.block(),positionStrategy:this.overlay.position().global(),disposeOnNavigation:e.nzCloseOnNavigation??i.nzCloseOnNavigation??!0,direction:e.nzDirection||i.nzDirection||this.directionality.value});return this.overlay.create(n)}static{this.\u0275fac=function(i){return new(i||t)(K(zt),K(oe),K(de),K(q))}}static{this.\u0275prov=Qe({token:t,factory:t.\u0275fac})}}return t})(),Kn="image",si=(()=>{class t{get previewable(){return!this.nzDisablePreview&&this.status!=="error"}constructor(e,i,n,a,p){this.nzConfigService=e,this.elementRef=i,this.nzImageService=n,this.cdr=a,this.directionality=p,this._nzModuleName=Kn,this.nzSrc="",this.nzSrcset="",this.nzDisablePreview=!1,this.nzFallback=null,this.nzPlaceholder=null,this.nzScaleStep=null,this.status="normal",this.backLoadDestroy$=new T,this.destroy$=new T,this.document=R(qe),this.parentGroup=R(jn,{optional:!0})}ngOnInit(){this.backLoad(),this.parentGroup&&this.parentGroup.addImage(this),this.directionality&&(this.directionality.change?.pipe(E(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.dir=this.directionality.value)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onPreview(){if(this.previewable)if(this.parentGroup){let e=this.parentGroup.images.filter(r=>r.previewable),i=e.map(r=>({src:r.nzSrc,srcset:r.nzSrcset})),n=e.findIndex(r=>this===r),a=new Map;e.forEach(r=>{a.set(r.nzSrc??r.nzSrcset,r.nzScaleStep??this.parentGroup.nzScaleStep??this.nzScaleStep??be)}),this.nzImageService.preview(i,{nzDirection:this.dir},a).switchTo(n)}else{let e=[{src:this.nzSrc,srcset:this.nzSrcset}];this.nzImageService.preview(e,{nzDirection:this.dir,nzScaleStep:this.nzScaleStep??be})}}getElement(){return this.elementRef}ngOnChanges(e){let{nzSrc:i}=e;i&&(this.getElement().nativeElement.src=i.currentValue,this.backLoad())}backLoad(){this.backLoadImage=this.document.createElement("img"),this.backLoadImage.src=this.nzSrc,this.backLoadImage.srcset=this.nzSrcset,this.status="loading",this.backLoadDestroy$.next(),this.backLoadDestroy$.complete(),this.backLoadDestroy$=new T,this.backLoadImage.complete?(this.status="normal",this.getElement().nativeElement.src=this.nzSrc,this.getElement().nativeElement.srcset=this.nzSrcset):(this.nzPlaceholder?(this.getElement().nativeElement.src=this.nzPlaceholder,this.getElement().nativeElement.srcset=""):(this.getElement().nativeElement.src=this.nzSrc,this.getElement().nativeElement.srcset=this.nzSrcset),U(this.backLoadImage,"load").pipe(E(this.backLoadDestroy$),E(this.destroy$)).subscribe(()=>{this.status="normal",this.getElement().nativeElement.src=this.nzSrc,this.getElement().nativeElement.srcset=this.nzSrcset}),U(this.backLoadImage,"error").pipe(E(this.backLoadDestroy$),E(this.destroy$)).subscribe(()=>{this.status="error",this.nzFallback&&(this.getElement().nativeElement.src=this.nzFallback,this.getElement().nativeElement.srcset="")}))}static{this.\u0275fac=function(i){return new(i||t)(f(de),f(ae),f(ri),f(W),f(q))}}static{this.\u0275dir=ne({type:t,selectors:[["img","nz-image",""]],hostBindings:function(i,n){i&1&&b("click",function(){return n.onPreview()})},inputs:{nzSrc:"nzSrc",nzSrcset:"nzSrcset",nzDisablePreview:[2,"nzDisablePreview","nzDisablePreview",he],nzFallback:"nzFallback",nzPlaceholder:"nzPlaceholder",nzScaleStep:"nzScaleStep"},exportAs:["nzImage"],standalone:!0,features:[re,B]})}}return J([$()],t.prototype,"nzDisablePreview",void 0),J([$()],t.prototype,"nzFallback",void 0),J([$()],t.prototype,"nzPlaceholder",void 0),J([$()],t.prototype,"nzScaleStep",void 0),t})(),li=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=x({type:t})}static{this.\u0275inj=A({providers:[ri],imports:[ai]})}}return t})();function Yn(t,o){if(t&1&&m(0,"nz-skeleton-element",25),t&2){let e=s(2);c("nzActive",e.loading)}}function $n(t,o){if(t&1&&(v(0),L(1,"number")),t&2){let e=s(2);D(" ",Q(1,1,e.trendVo.lowSellPrice,"1.2-2")," ")}}function qn(t,o){if(t&1&&h(0,Yn,1,1,"nz-skeleton-element",25)(1,$n,2,4),t&2){let e=s();C(e.trendVo.lowSellPrice==0?0:1)}}function Xn(t,o){if(t&1&&m(0,"nz-skeleton-element",25),t&2){let e=s(2);c("nzActive",e.loading)}}function eo(t,o){if(t&1&&(v(0),L(1,"number")),t&2){let e=s(2);D(" ",Q(1,1,e.trendVo.highBuyPrice,"1.2-2")," ")}}function to(t,o){if(t&1&&h(0,Xn,1,1,"nz-skeleton-element",25)(1,eo,2,4),t&2){let e=s();C(e.trendVo.highBuyPrice==0?0:1)}}function io(t,o){if(t&1&&m(0,"nz-skeleton-element",25),t&2){let e=s(2);c("nzActive",e.loading)}}function no(t,o){if(t&1&&(v(0),L(1,"number")),t&2){let e=s(2);D(" ",Q(1,1,e.trendVo.middlePrice,"1.2-2")," ")}}function oo(t,o){if(t&1&&h(0,io,1,1,"nz-skeleton-element",25)(1,no,2,4),t&2){let e=s();C(e.trendVo.middlePrice==0?0:1)}}function ao(t,o){if(t&1&&m(0,"nz-skeleton-element",25),t&2){let e=s(2);c("nzActive",e.loading)}}function ro(t,o){if(t&1&&v(0),t&2){let e=s(2);D(" ",e.trendVo.orderCount," ")}}function so(t,o){if(t&1&&h(0,ao,1,1,"nz-skeleton-element",25)(1,ro,1,1),t&2){let e=s();C(e.trendVo.orderCount==0?0:1)}}function lo(t,o){if(t&1&&m(0,"nz-skeleton-element",25),t&2){let e=s(2);c("nzActive",e.loading)}}function co(t,o){if(t&1&&(v(0),L(1,"number")),t&2){let e=s(2);D(" ",Q(1,1,e.trendVo.lastDayAveragePrice,"1.2-2")," ")}}function mo(t,o){if(t&1&&h(0,lo,1,1,"nz-skeleton-element",25)(1,co,2,4),t&2){let e=s();C(e.trendVo.lastDayAveragePrice==0?0:1)}}function ho(t,o){if(t&1&&m(0,"nz-skeleton-element",25),t&2){let e=s(2);c("nzActive",e.loading)}}function po(t,o){if(t&1&&v(0),t&2){let e=s(2);D(" ",e.trendVo.lastDayVolume," ")}}function uo(t,o){if(t&1&&h(0,ho,1,1,"nz-skeleton-element",25)(1,po,1,1),t&2){let e=s();C(e.trendVo.lastDayVolume==0?0:1)}}function go(t,o){if(t&1&&m(0,"nz-skeleton-element",25),t&2){let e=s(2);c("nzActive",e.loading)}}function fo(t,o){if(t&1&&(v(0),L(1,"number")),t&2){let e=s(2);D(" ",Q(1,1,e.trendVo.twentyDayAveragePrice,"1.2-2")," ")}}function zo(t,o){if(t&1&&h(0,go,1,1,"nz-skeleton-element",25)(1,fo,2,4),t&2){let e=s();C(e.trendVo.twentyDayAveragePrice==0?0:1)}}function Co(t,o){if(t&1&&m(0,"nz-skeleton-element",25),t&2){let e=s(2);c("nzActive",e.loading)}}function vo(t,o){if(t&1&&v(0),t&2){let e=s(2);D(" ",e.trendVo.twentyDayVolume," ")}}function yo(t,o){if(t&1&&h(0,Co,1,1,"nz-skeleton-element",25)(1,vo,1,1),t&2){let e=s();C(e.trendVo.twentyDayVolume==0?0:1)}}function _o(t,o){t&1&&m(0,"nz-empty",26)}function Eo(t,o){if(t&1&&m(0,"div",27),t&2){let e=s();c("options",e.options)}}we([Lt,Rt,Pt,Zt,Ot,jt,Bt,Ht,Ft,Qt]);var ci=(()=>{class t{constructor(e){this.marketService=e,this.options={legend:{data:["\u6700\u9AD8","\u6700\u4F4E","\u5E73\u5747(1\u5929)","\u5E73\u5747(20\u5929)","\u6210\u4EA4\u91CF"]},tooltip:{trigger:"axis",valueFormatter:i=>Number(i).toLocaleString("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2})},dataZoom:[{show:!0,realtime:!0,start:95,end:100,xAxisIndex:[0,1]}],xAxis:{type:"category",data:[]},yAxis:[{name:"\u4EF7\u683C",type:"value",scale:!0,min:i=>i.min*.8},{name:"\u6210\u4EA4\u91CF",type:"value",max:i=>i.max*5}],series:[{name:"\u6700\u9AD8",data:[],type:"line",lineStyle:{opacity:.15},showSymbol:!1},{name:"\u6700\u4F4E",data:[],type:"line",lineStyle:{opacity:.15},showSymbol:!1},{name:"\u5E73\u5747(1\u5929)",data:[],type:"line",showSymbol:!1},{name:"\u5E73\u5747(20\u5929)",data:[],type:"line",showSymbol:!1},{name:"\u6210\u4EA4\u91CF",data:[],yAxisIndex:1,type:"bar"}]},this.trendVo=this.createEmptyTrendVo(),this.currentNode=null,this.loading=!1,this.chartsLoading=!1,this.fallbackImageBase64="data:image/png;base64,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"}ngOnInit(){}get imgsrc(){if(this.currentNode==null)return"error";let e=this.marketService.getNodeImageSrc(this.currentNode,64);return e==""&&(e="error"),e}onNodeClick(e){this.marketService.getMarketNodeType(e)==St.Type&&(this.loading=!0,this.chartsLoading=!0,new te(i=>{setTimeout(()=>j(this,null,function*(){this.resetTrendVo(),this.currentNode=e,this.trendVo.name=e.title;let n=this.marketService.getNodeImageSrc(e,64);n==""&&(n="error"),this.trendVo.imgsrc=n,yield Me(Ve([this.marketService.getHistoryByNode(e).pipe(ze(a=>{let p=[];for(let z in a.average_20d){let _=a.average_20d[z];p.push(Number(_.toFixed(2)))}let r=JSON.parse(JSON.stringify(this.options));r.tooltip.valueFormatter=this.options.tooltip.valueFormatter,r.yAxis[0].min=this.options.yAxis[0].min,r.yAxis[1].max=this.options.yAxis[1].max,r.xAxis.data=a.date.map(z=>z.substring(0,4)+`
`+z.substring(5)),r.series[0].data=a.highest,r.series[1].data=a.lowest,r.series[2].data=a.average,r.series[3].data=p,r.series[4].data=a.volume,this.options=r,this.chartsLoading=!1,this.trendVo.lastDayAveragePrice=a.average[a.average.length-1],this.trendVo.lastDayVolume=a.volume[a.volume.length-1],this.trendVo.twentyDayAveragePrice=p[p.length-1];let g=0;for(let z=a.volume.length-1;z>=a.volume.length-20&&z>=0;z--)g+=a.volume[z];this.trendVo.twentyDayVolume=g})),this.marketService.getOrderByNode(e).pipe(ze(a=>{let p=0,r=0,g=0;for(let _ in a){let y=a[_];p+=y.volume_remain,y.is_buy_order?r=y.price>r?y.price:r:g=y.price<g||g==0?y.price:g}let z=Number(((r+g)/2).toFixed());this.trendVo.highBuyPrice=r,this.trendVo.lowSellPrice=g,this.trendVo.middlePrice=z,this.trendVo.orderCount=p}))])),i.next(),i.complete()}))}).subscribe(()=>{this.loading=!1,this.chartsLoading=!1}))}createEmptyTrendVo(){return{imgsrc:"error",name:"",lowSellPrice:0,highBuyPrice:0,middlePrice:0,orderCount:0,lastDayAveragePrice:0,lastDayVolume:0,twentyDayAveragePrice:0,twentyDayVolume:0}}resetTrendVo(){this.trendVo=this.createEmptyTrendVo()}static{this.\u0275fac=function(i){return new(i||t)(f(bt))}}static{this.\u0275cmp=I({type:t,selectors:[["app-market-trend"]],standalone:!0,features:[me([Wt({echarts:Ie})]),k],decls:46,vars:14,consts:[["lowSellPriceValueTpl",""],["highBuyPriceValueTpl",""],["middlePriceValueTpl",""],["orderCountValueTpl",""],["lastDayAveragePriceValueTpl",""],["lastDayVolumeValueTpl",""],["twentyDayAveragePriceValueTpl",""],["twentyDayVolumeValueTpl",""],[1,"left"],["mode","market",3,"onNodeClick"],[1,"right"],[1,"right-head"],["nz-image","","width","64px","height","64px",3,"nzSrc","nzFallback"],["nzSpan","6"],["nzTitle","\u6700\u4F4E\u5356\u4EF7",3,"nzValueTemplate"],["nzTitle","\u6700\u9AD8\u4E70\u4EF7",3,"nzValueTemplate"],["nzTitle","\u4E2D\u95F4\u4EF7",3,"nzValueTemplate"],["nzTitle","\u8BA2\u5355\u6570",3,"nzValueTemplate"],["nzTitle","\u6628\u65E5\u5E73\u5747\u4EF7\u683C",3,"nzValueTemplate"],["nzTitle","\u6628\u65E5\u6210\u4EA4\u91CF",3,"nzValueTemplate"],["nzTitle","20\u65E5\u5E73\u5747\u4EF7\u683C",3,"nzValueTemplate"],["nzTitle","20\u65E5\u6210\u4EA4\u91CF",3,"nzValueTemplate"],[3,"nzSpinning"],["nzNotFoundContent","\u4ECE\u5DE6\u4FA7\u70B9\u51FB\u6240\u9700\u67E5\u8BE2\u7684\u7269\u54C1\u4EE5\u5F00\u59CB",4,"ngIf"],["echarts","",3,"options",4,"ngIf"],["nzType","input",3,"nzActive"],["nzNotFoundContent","\u4ECE\u5DE6\u4FA7\u70B9\u51FB\u6240\u9700\u67E5\u8BE2\u7684\u7269\u54C1\u4EE5\u5F00\u59CB"],["echarts","",3,"options"]],template:function(i,n){if(i&1){let a=H();d(0,"main")(1,"div",8)(2,"app-market-tree",9),b("onNodeClick",function(r){return V(a),P(n.onNodeClick(r))}),u()(),d(3,"div",10)(4,"div",11),m(5,"img",12),d(6,"span"),v(7),u()(),m(8,"nz-divider"),d(9,"nz-row")(10,"nz-col",13),m(11,"nz-statistic",14),h(12,qn,2,1,"ng-template",null,0,w),u(),d(14,"nz-col",13),m(15,"nz-statistic",15),h(16,to,2,1,"ng-template",null,1,w),u(),d(18,"nz-col",13),m(19,"nz-statistic",16),h(20,oo,2,1,"ng-template",null,2,w),u(),d(22,"nz-col",13),m(23,"nz-statistic",17),h(24,so,2,1,"ng-template",null,3,w),u(),d(26,"nz-col",13),m(27,"nz-statistic",18),h(28,mo,2,1,"ng-template",null,4,w),u(),d(30,"nz-col",13),m(31,"nz-statistic",19),h(32,uo,2,1,"ng-template",null,5,w),u(),d(34,"nz-col",13),m(35,"nz-statistic",20),h(36,zo,2,1,"ng-template",null,6,w),u(),d(38,"nz-col",13),m(39,"nz-statistic",21),h(40,yo,2,1,"ng-template",null,7,w),u()(),m(42,"nz-divider"),d(43,"nz-spin",22),h(44,_o,1,0,"nz-empty",23)(45,Eo,1,1,"div",24),u()()()}if(i&2){let a=S(13),p=S(17),r=S(21),g=S(25),z=S(29),_=S(33),y=S(37),hi=S(41);l(5),c("nzSrc",n.trendVo.imgsrc)("nzFallback",n.fallbackImageBase64),l(2),N(n.trendVo.name),l(4),c("nzValueTemplate",a),l(4),c("nzValueTemplate",p),l(4),c("nzValueTemplate",r),l(4),c("nzValueTemplate",g),l(4),c("nzValueTemplate",z),l(4),c("nzValueTemplate",_),l(4),c("nzValueTemplate",y),l(4),c("nzValueTemplate",hi),l(4),c("nzSpinning",n.chartsLoading),l(),c("ngIf",!n.currentNode),l(),c("ngIf",n.currentNode)}},dependencies:[pe,tt,ot,Nt,Kt,Et,_t,Vt,kt,Dt,Mt,qt,X,li,si,vt,Ct,ge,wt,Tt,xt,At],styles:["main[_ngcontent-%COMP%]{width:100%;height:100%;justify-content:flex-start;align-items:flex-start;display:flex}.left[_ngcontent-%COMP%]{width:300px;height:100%}.right[_ngcontent-%COMP%]{width:calc(100% - 300px);padding-left:10px;height:100%}"]})}}return t})();var Ao=[{path:"",component:ci}],mi=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=x({type:t})}static{this.\u0275inj=A({imports:[Se.forChild(Ao),Se]})}}return t})();var or=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=x({type:t})}static{this.\u0275inj=A({imports:[pe,mi]})}}return t})();export{or as MarketTrendModule};

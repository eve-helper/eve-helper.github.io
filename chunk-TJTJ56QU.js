import{e as ae,f as kt,g as le,h as ue,i as pe,j as ce,k as de,l as me,m as he,n as fe,o as ze,p as ge,q as Ce,r as Se,s as _e,t as ye,u as be}from"./chunk-XEDTK6YW.js";import{a as Ie,b as Fe,d as Te,e as Ae,f as Me,g as De,h as Ee,i as Oe}from"./chunk-BB65JJBY.js";import{Da as Et,M as at,N as wt,O as It,T as Q,V as U,X as lt,Xa as Ht,Ya as Ot,Za as Qt,_a as Ut,ca as Ft,db as ut,fa as Tt,gb as se,ha as At,ja as Mt,jb as re,m as xt,ma as Dt,n as Nt,na as oe,ub as xe,vb as Ne,wb as Vt,xb as ve,y as vt,yb as we}from"./chunk-P3XE2YTL.js";import{n as ne,q as bt}from"./chunk-WV4YJ4QP.js";import{$b as ot,A,Ab as ft,Ba as tt,Bb as c,Ca as y,Cb as zt,D as Bt,Da as b,Db as T,Hb as C,Ic as H,Ja as Gt,Jb as gt,Ka as ht,Kb as Ct,Lb as St,Ma as et,Mb as l,Mc as F,Nb as u,Nc as yt,O as Lt,Ob as x,Pb as it,Qb as nt,Rb as te,Sb as O,Y as Kt,Yb as I,Z as Yt,_,_b as r,ac as st,bc as _t,c as S,cc as K,dc as k,ec as V,f as G,fa as mt,fc as Y,ga as M,gb as p,gc as g,ha as Z,hb as h,hc as $,jb as Xt,la as w,lc as R,m as ct,ma as X,mc as B,nb as Wt,nc as L,oc as rt,pc as E,qc as ee,ra as D,rc as ie,s as d,sa as q,t as P,ta as jt,ub as W,v as qt,xb as z,xc as $t,z as dt}from"./chunk-NPSVTU3I.js";import{a as J,e as f}from"./chunk-JKOY2XUY.js";var ni=["upHandler"],oi=["downHandler"],si=["inputElement"];function ri(n,a){if(n&1&&x(0,"nz-form-item-feedback-icon",10),n&2){let t=r();c("status",t.status)}}var ai=["nz-input-number-group-slot",""],Pe=["*"];function li(n,a){if(n&1&&x(0,"span",0),n&2){let t=r();c("nzType",t.icon)}}function ui(n,a){if(n&1&&(it(0),g(1),nt()),n&2){let t=r();p(),$(t.template)}}function pi(n,a){if(n&1&&x(0,"div",3),n&2){let t=r(2);c("icon",t.nzAddOnBeforeIcon)("template",t.nzAddOnBefore)}}function ci(n,a){}function di(n,a){if(n&1&&(l(0,"div",6),z(1,ci,0,0,"ng-template",5),u()),n&2){let t=r(2),e=Y(3);T("ant-input-number-affix-wrapper-disabled",t.disabled)("ant-input-number-affix-wrapper-sm",t.isSmall)("ant-input-number-affix-wrapper-lg",t.isLarge)("ant-input-number-affix-wrapper-focused",t.focused),c("ngClass",t.affixInGroupStatusCls),p(),c("ngTemplateOutlet",e)}}function mi(n,a){}function hi(n,a){if(n&1&&z(0,mi,0,0,"ng-template",5),n&2){r(2);let t=Y(5);c("ngTemplateOutlet",t)}}function fi(n,a){if(n&1&&x(0,"span",3),n&2){let t=r(2);c("icon",t.nzAddOnAfterIcon)("template",t.nzAddOnAfter)}}function zi(n,a){if(n&1&&(l(0,"span",2),z(1,pi,1,2,"div",3)(2,di,2,10,"div",4)(3,hi,1,1,null,5)(4,fi,1,2,"span",3),u()),n&2){let t=r();p(),C(t.nzAddOnBefore||t.nzAddOnBeforeIcon?1:-1),p(),C(t.isAffix||t.hasFeedback?2:3),p(2),C(t.nzAddOnAfter||t.nzAddOnAfterIcon?4:-1)}}function gi(n,a){}function Ci(n,a){if(n&1&&z(0,gi,0,0,"ng-template",5),n&2){r(2);let t=Y(3);c("ngTemplateOutlet",t)}}function Si(n,a){}function _i(n,a){if(n&1&&z(0,Si,0,0,"ng-template",5),n&2){r(2);let t=Y(5);c("ngTemplateOutlet",t)}}function yi(n,a){if(n&1&&z(0,Ci,1,1,null,5)(1,_i,1,1,null,5),n&2){let t=r();C(t.isAffix?0:1)}}function bi(n,a){if(n&1&&x(0,"span",7),n&2){let t=r(2);c("icon",t.nzPrefixIcon)("template",t.nzPrefix)}}function xi(n,a){}function Ni(n,a){if(n&1&&x(0,"nz-form-item-feedback-icon",9),n&2){let t=r(3);c("status",t.status)}}function vi(n,a){if(n&1&&(l(0,"span",8),z(1,Ni,1,1,"nz-form-item-feedback-icon",9),u()),n&2){let t=r(2);c("icon",t.nzSuffixIcon)("template",t.nzSuffix),p(),C(t.isFeedback?1:-1)}}function wi(n,a){if(n&1&&z(0,bi,1,2,"span",7)(1,xi,0,0,"ng-template",5)(2,vi,2,3,"span",8),n&2){let t=r(),e=Y(5);C(t.nzPrefix||t.nzPrefixIcon?0:-1),p(),c("ngTemplateOutlet",e),p(),C(t.nzSuffix||t.nzSuffixIcon||t.isFeedback?2:-1)}}function Ii(n,a){if(n&1&&x(0,"nz-form-item-feedback-icon",9),n&2){let t=r(3);c("status",t.status)}}function Fi(n,a){if(n&1&&(l(0,"span",10),z(1,Ii,1,1,"nz-form-item-feedback-icon",9),u()),n&2){let t=r(2);p(),C(t.isFeedback?1:-1)}}function Ti(n,a){if(n&1&&(st(0),z(1,Fi,2,1,"span",10)),n&2){let t=r();p(),C(!t.isAddOn&&!t.isAffix&&t.isFeedback?1:-1)}}var Pt=(()=>{class n{onModelChange(t){this.parsedValue=this.nzParser(t),this.inputElement.nativeElement.value=`${this.parsedValue}`;let e=this.getCurrentValidValue(this.parsedValue);this.setValue(e)}getCurrentValidValue(t){let e=t;return e===""?e="":this.isNotCompleteNumber(e)?e=this.value:e=`${this.getValidValue(e)}`,this.toNumber(e)}isNotCompleteNumber(t){return isNaN(t)||t===""||t===null||!!(t&&t.toString().indexOf(".")===t.toString().length-1)}getValidValue(t){let e=parseFloat(t);return isNaN(e)?t:(e<this.nzMin&&(e=this.nzMin),e>this.nzMax&&(e=this.nzMax),e)}toNumber(t){if(this.isNotCompleteNumber(t))return t;let e=String(t);if(e.indexOf(".")>=0&&vt(this.nzPrecision)){if(typeof this.nzPrecisionMode=="function")return this.nzPrecisionMode(t,this.nzPrecision);if(this.nzPrecisionMode==="cut"){let i=e.split(".");return i[1]=i[1].slice(0,this.nzPrecision),Number(i.join("."))}return Number(Number(t).toFixed(this.nzPrecision))}return Number(t)}getRatio(t){let e=1;return t.metaKey||t.ctrlKey?e=.1:t.shiftKey&&(e=10),e}down(t,e){this.isFocused||this.focus(),this.step("down",t,e)}up(t,e){this.isFocused||this.focus(),this.step("up",t,e)}getPrecision(t){let e=t.toString();if(e.indexOf("e-")>=0)return parseInt(e.slice(e.indexOf("e-")+2),10);let i=0;return e.indexOf(".")>=0&&(i=e.length-e.indexOf(".")-1),i}getMaxPrecision(t,e){if(vt(this.nzPrecision))return this.nzPrecision;let i=this.getPrecision(e),o=this.getPrecision(this.nzStep),s=this.getPrecision(t);return t?Math.max(s,i+o):i+o}getPrecisionFactor(t,e){let i=this.getMaxPrecision(t,e);return Math.pow(10,i)}upStep(t,e){let i=this.getPrecisionFactor(t,e),o=Math.abs(this.getMaxPrecision(t,e)),s;return typeof t=="number"?s=((i*t+i*this.nzStep*e)/i).toFixed(o):s=this.nzMin===-1/0?this.nzStep:this.nzMin,this.toNumber(s)}downStep(t,e){let i=this.getPrecisionFactor(t,e),o=Math.abs(this.getMaxPrecision(t,e)),s;return typeof t=="number"?s=((i*t-i*this.nzStep*e)/i).toFixed(o):s=this.nzMin===-1/0?-this.nzStep:this.nzMin,this.toNumber(s)}step(t,e,i=1){if(this.stop(),e.preventDefault(),this.nzDisabled)return;let o=this.getCurrentValidValue(this.parsedValue)||0,s=0;t==="up"?s=this.upStep(o,i):t==="down"&&(s=this.downStep(o,i));let m=s>this.nzMax||s<this.nzMin;s>this.nzMax?s=this.nzMax:s<this.nzMin&&(s=this.nzMin),this.setValue(s),this.updateDisplayValue(s),this.isFocused=!0,!m&&(this.autoStepTimer=setTimeout(()=>{this[t](e,i)},300))}stop(){this.autoStepTimer&&clearTimeout(this.autoStepTimer)}setValue(t){if(`${this.value}`!=`${t}`&&this.onChange(t),this.value=t,this.parsedValue=t,this.disabledUp=this.disabledDown=!1,t||t===0){let e=Number(t);e>=this.nzMax&&(this.disabledUp=!0),e<=this.nzMin&&(this.disabledDown=!0)}}updateDisplayValue(t){let e=vt(this.nzFormatter(t))?this.nzFormatter(t):"";this.displayValue=e,this.inputElement.nativeElement.value=`${e}`}writeValue(t){this.value=t,this.setValue(t),this.updateDisplayValue(t),this.cdr.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||t,this.isNzDisableFirstChange=!1,this.disabled$.next(this.nzDisabled),this.cdr.markForCheck()}focus(){this.focusMonitor.focusVia(this.inputElement,"keyboard")}blur(){this.inputElement.nativeElement.blur()}constructor(t,e,i,o,s,m,N){this.ngZone=t,this.elementRef=e,this.cdr=i,this.focusMonitor=o,this.renderer=s,this.directionality=m,this.destroy$=N,this.isNzDisableFirstChange=!0,this.isFocused=!1,this.disabled$=new G,this.disabledUp=!1,this.disabledDown=!1,this.dir="ltr",this.prefixCls="ant-input-number",this.status="",this.statusCls={},this.hasFeedback=!1,this.onChange=()=>{},this.onTouched=()=>{},this.nzBlur=new Gt,this.nzFocus=new Gt,this.nzSize="default",this.nzMin=-1/0,this.nzMax=1/0,this.nzParser=v=>v.trim().replace(/ã€‚/g,".").replace(/[^\w\.-]+/g,""),this.nzPrecisionMode="toFixed",this.nzPlaceHolder="",this.nzStatus="",this.nzStep=1,this.nzInputMode="decimal",this.nzId=null,this.nzDisabled=!1,this.nzReadOnly=!1,this.nzAutoFocus=!1,this.nzBorderless=!1,this.nzFormatter=v=>v,this.nzFormStatusService=X(Ht,{optional:!0}),this.nzFormNoStatusService=X(Ot,{optional:!0})}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe(Lt((t,e)=>t.status===e.status&&t.hasFeedback===e.hasFeedback),_(this.destroy$)).subscribe(({status:t,hasFeedback:e})=>{this.setStatusStyles(t,e)}),this.focusMonitor.monitor(this.elementRef,!0).pipe(_(this.destroy$)).subscribe(t=>{t?(this.isFocused=!0,this.nzFocus.emit()):(this.isFocused=!1,this.updateDisplayValue(this.value),this.nzBlur.emit(),Promise.resolve().then(()=>this.onTouched()))}),this.dir=this.directionality.value,this.directionality.change.pipe(_(this.destroy$)).subscribe(t=>{this.dir=t}),this.setupHandlersListeners(),this.ngZone.runOutsideAngular(()=>{A(this.inputElement.nativeElement,"keyup").pipe(_(this.destroy$)).subscribe(()=>this.stop()),A(this.inputElement.nativeElement,"keydown").pipe(_(this.destroy$)).subscribe(t=>{let{keyCode:e}=t;e!==38&&e!==40&&e!==13||this.ngZone.run(()=>{if(e===38){let i=this.getRatio(t);this.up(t,i),this.stop()}else if(e===40){let i=this.getRatio(t);this.down(t,i),this.stop()}else this.updateDisplayValue(this.value);this.cdr.markForCheck()})})})}ngOnChanges(t){let{nzStatus:e,nzDisabled:i}=t;if(t.nzFormatter&&!t.nzFormatter.isFirstChange()){let o=this.getCurrentValidValue(this.parsedValue);this.setValue(o),this.updateDisplayValue(o)}i&&this.disabled$.next(this.nzDisabled),e&&this.setStatusStyles(this.nzStatus,this.hasFeedback)}ngAfterViewInit(){this.nzAutoFocus&&this.focus()}ngOnDestroy(){this.focusMonitor.stopMonitoring(this.elementRef)}setupHandlersListeners(){this.ngZone.runOutsideAngular(()=>{Bt(A(this.upHandler.nativeElement,"mouseup"),A(this.upHandler.nativeElement,"mouseleave"),A(this.downHandler.nativeElement,"mouseup"),A(this.downHandler.nativeElement,"mouseleave")).pipe(_(this.destroy$)).subscribe(()=>this.stop())})}setStatusStyles(t,e){this.status=t,this.hasFeedback=e,this.cdr.markForCheck(),this.statusCls=at(this.prefixCls,t,e),Object.keys(this.statusCls).forEach(i=>{this.statusCls[i]?this.renderer.addClass(this.elementRef.nativeElement,i):this.renderer.removeClass(this.elementRef.nativeElement,i)})}static{this.\u0275fac=function(e){return new(e||n)(h(ht),h(et),h(H),h(ut),h(Wt),h(lt),h(Et))}}static{this.\u0275cmp=D({type:n,selectors:[["nz-input-number"]],viewQuery:function(e,i){if(e&1&&(K(ni,7),K(oi,7),K(si,7)),e&2){let o;k(o=V())&&(i.upHandler=o.first),k(o=V())&&(i.downHandler=o.first),k(o=V())&&(i.inputElement=o.first)}},hostAttrs:[1,"ant-input-number"],hostVars:16,hostBindings:function(e,i){e&2&&T("ant-input-number-in-form-item",!!i.nzFormStatusService)("ant-input-number-focused",i.isFocused)("ant-input-number-lg",i.nzSize==="large")("ant-input-number-sm",i.nzSize==="small")("ant-input-number-disabled",i.nzDisabled)("ant-input-number-readonly",i.nzReadOnly)("ant-input-number-rtl",i.dir==="rtl")("ant-input-number-borderless",i.nzBorderless)},inputs:{nzSize:"nzSize",nzMin:[2,"nzMin","nzMin",yt],nzMax:[2,"nzMax","nzMax",yt],nzParser:"nzParser",nzPrecision:"nzPrecision",nzPrecisionMode:"nzPrecisionMode",nzPlaceHolder:"nzPlaceHolder",nzStatus:"nzStatus",nzStep:[2,"nzStep","nzStep",yt],nzInputMode:"nzInputMode",nzId:"nzId",nzDisabled:[2,"nzDisabled","nzDisabled",F],nzReadOnly:[2,"nzReadOnly","nzReadOnly",F],nzAutoFocus:[2,"nzAutoFocus","nzAutoFocus",F],nzBorderless:[2,"nzBorderless","nzBorderless",F],nzFormatter:"nzFormatter"},outputs:{nzBlur:"nzBlur",nzFocus:"nzFocus"},exportAs:["nzInputNumber"],standalone:!0,features:[rt([{provide:Ft,useExisting:mt(()=>n),multi:!0},Et]),W,tt,E],decls:11,vars:15,consts:[["upHandler",""],["downHandler",""],["inputElement",""],[1,"ant-input-number-handler-wrap"],["unselectable","unselectable",1,"ant-input-number-handler","ant-input-number-handler-up",3,"mousedown"],["nz-icon","","nzType","up",1,"ant-input-number-handler-up-inner"],["unselectable","unselectable",1,"ant-input-number-handler","ant-input-number-handler-down",3,"mousedown"],["nz-icon","","nzType","down",1,"ant-input-number-handler-down-inner"],[1,"ant-input-number-input-wrap"],["autocomplete","off",1,"ant-input-number-input",3,"ngModelChange","disabled","placeholder","readOnly","ngModel"],[1,"ant-input-number-suffix",3,"status"]],template:function(e,i){if(e&1){let o=O();l(0,"div",3)(1,"span",4,0),I("mousedown",function(m){return y(o),b(i.up(m))}),x(3,"span",5),u(),l(4,"span",6,1),I("mousedown",function(m){return y(o),b(i.down(m))}),x(6,"span",7),u()(),l(7,"div",8)(8,"input",9,2),I("ngModelChange",function(m){return y(o),b(i.onModelChange(m))}),u()(),z(10,ri,1,1,"nz-form-item-feedback-icon",10)}e&2&&(p(),T("ant-input-number-handler-up-disabled",i.disabledUp),p(3),T("ant-input-number-handler-down-disabled",i.disabledDown),p(4),c("disabled",i.nzDisabled)("placeholder",i.nzPlaceHolder)("readOnly",i.nzReadOnly)("ngModel",i.displayValue),ft("id",i.nzId)("autofocus",i.nzAutoFocus?"autofocus":null)("min",i.nzMin)("max",i.nzMax)("step",i.nzStep)("inputmode",i.nzInputMode),p(2),C(i.hasFeedback&&i.status&&!i.nzFormNoStatusService?10:-1))},dependencies:[U,Q,Dt,Tt,At,Mt,Ut,Qt],encapsulation:2,changeDetection:0})}}return n})(),Re=(()=>{class n{constructor(){this.icon=null,this.type=null,this.template=null}static{this.\u0275fac=function(e){return new(e||n)}}static{this.\u0275cmp=D({type:n,selectors:[["","nz-input-number-group-slot",""]],hostVars:6,hostBindings:function(e,i){e&2&&T("ant-input-number-group-addon",i.type==="addon")("ant-input-number-prefix",i.type==="prefix")("ant-input-number-suffix",i.type==="suffix")},inputs:{icon:"icon",type:"type",template:"template"},standalone:!0,features:[E],attrs:ai,ngContentSelectors:Pe,decls:3,vars:2,consts:[["nz-icon","",3,"nzType"],[4,"nzStringTemplateOutlet"]],template:function(e,i){e&1&&(ot(),z(0,li,1,1,"span",0)(1,ui,2,1,"ng-container",1),st(2)),e&2&&(C(i.icon?0:-1),p(),c("nzStringTemplateOutlet",i.template))},dependencies:[U,Q,Nt,xt],encapsulation:2,changeDetection:0})}}return n})();var Ai=(()=>{class n{constructor(t,e,i,o,s){this.focusMonitor=t,this.elementRef=e,this.renderer=i,this.cdr=o,this.directionality=s,this.nzAddOnBeforeIcon=null,this.nzAddOnAfterIcon=null,this.nzPrefixIcon=null,this.nzSuffixIcon=null,this.nzStatus="",this.nzSize="default",this.nzCompact=!1,this.isLarge=!1,this.isSmall=!1,this.isAffix=!1,this.isAddOn=!1,this.isFeedback=!1,this.focused=!1,this.disabled=!1,this.dir="ltr",this.prefixCls="ant-input-number",this.affixStatusCls={},this.groupStatusCls={},this.affixInGroupStatusCls={},this.status="",this.hasFeedback=!1,this.destroy$=new G,this.nzFormStatusService=X(Ht,{optional:!0}),this.nzFormNoStatusService=X(Ot,{optional:!0})}updateChildrenInputSize(){this.listOfNzInputNumberComponent&&this.listOfNzInputNumberComponent.forEach(t=>t.nzSize=this.nzSize)}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe(Lt((t,e)=>t.status===e.status&&t.hasFeedback===e.hasFeedback),_(this.destroy$)).subscribe(({status:t,hasFeedback:e})=>{this.setStatusStyles(t,e)}),this.focusMonitor.monitor(this.elementRef,!0).pipe(_(this.destroy$)).subscribe(t=>{this.focused=!!t,this.cdr.markForCheck()}),this.dir=this.directionality.value,this.directionality.change?.pipe(_(this.destroy$)).subscribe(t=>{this.dir=t})}ngAfterContentInit(){this.updateChildrenInputSize();let t=this.listOfNzInputNumberComponent.changes.pipe(Kt(this.listOfNzInputNumberComponent));t.pipe(Yt(e=>Bt(t,...e.map(i=>i.disabled$))),qt(()=>t),P(e=>e.some(i=>i.nzDisabled)),_(this.destroy$)).subscribe(e=>{this.disabled=e,this.cdr.markForCheck()})}ngOnChanges(t){let{nzSize:e,nzSuffix:i,nzPrefix:o,nzPrefixIcon:s,nzSuffixIcon:m,nzAddOnAfter:N,nzAddOnBefore:v,nzAddOnAfterIcon:Rt,nzAddOnBeforeIcon:Ze,nzStatus:qe}=t;e&&(this.updateChildrenInputSize(),this.isLarge=this.nzSize==="large",this.isSmall=this.nzSize==="small"),(i||o||s||m)&&(this.isAffix=!!(this.nzSuffix||this.nzPrefix||this.nzPrefixIcon||this.nzSuffixIcon)),(N||v||Rt||Ze)&&(this.isAddOn=!!(this.nzAddOnAfter||this.nzAddOnBefore||this.nzAddOnAfterIcon||this.nzAddOnBeforeIcon),this.nzFormNoStatusService?.noFormStatus?.next(this.isAddOn)),qe&&this.setStatusStyles(this.nzStatus,this.hasFeedback)}ngOnDestroy(){this.focusMonitor.stopMonitoring(this.elementRef),this.destroy$.next(),this.destroy$.complete()}setStatusStyles(t,e){this.status=t,this.hasFeedback=e,this.isFeedback=!!t&&e;let i=!!(this.nzSuffix||this.nzPrefix||this.nzPrefixIcon||this.nzSuffixIcon);this.isAffix=i||!this.isAddOn&&e,this.affixInGroupStatusCls=this.isAffix||this.isFeedback?this.affixStatusCls=at(`${this.prefixCls}-affix-wrapper`,t,e):{},this.cdr.markForCheck(),this.affixStatusCls=at(`${this.prefixCls}-affix-wrapper`,this.isAddOn?"":t,this.isAddOn?!1:e),this.groupStatusCls=at(`${this.prefixCls}-group-wrapper`,this.isAddOn?t:"",this.isAddOn?e:!1);let o=J(J({},this.affixStatusCls),this.groupStatusCls);Object.keys(o).forEach(s=>{o[s]?this.renderer.addClass(this.elementRef.nativeElement,s):this.renderer.removeClass(this.elementRef.nativeElement,s)})}static{this.\u0275fac=function(e){return new(e||n)(h(ut),h(et),h(Wt),h(H),h(lt))}}static{this.\u0275cmp=D({type:n,selectors:[["nz-input-number-group"]],contentQueries:function(e,i,o){if(e&1&&_t(o,Pt,5),e&2){let s;k(s=V())&&(i.listOfNzInputNumberComponent=s)}},hostVars:24,hostBindings:function(e,i){e&2&&T("ant-input-number-group",i.nzCompact)("ant-input-number-group-compact",i.nzCompact)("ant-input-number-group-wrapper",i.isAddOn)("ant-input-number-group-wrapper-rtl",i.isAddOn&&i.dir==="rtl")("ant-input-number-group-wrapper-lg",i.isAddOn&&i.isLarge)("ant-input-number-group-wrapper-sm",i.isAddOn&&i.isSmall)("ant-input-number-affix-wrapper",!i.isAddOn&&i.isAffix)("ant-input-number-affix-wrapper-rtl",!i.isAddOn&&i.dir==="rtl")("ant-input-number-affix-wrapper-focused",!i.isAddOn&&i.isAffix&&i.focused)("ant-input-number-affix-wrapper-disabled",!i.isAddOn&&i.isAffix&&i.disabled)("ant-input-number-affix-wrapper-lg",!i.isAddOn&&i.isAffix&&i.isLarge)("ant-input-number-affix-wrapper-sm",!i.isAddOn&&i.isAffix&&i.isSmall)},inputs:{nzAddOnBeforeIcon:"nzAddOnBeforeIcon",nzAddOnAfterIcon:"nzAddOnAfterIcon",nzPrefixIcon:"nzPrefixIcon",nzSuffixIcon:"nzSuffixIcon",nzAddOnBefore:"nzAddOnBefore",nzAddOnAfter:"nzAddOnAfter",nzPrefix:"nzPrefix",nzStatus:"nzStatus",nzSuffix:"nzSuffix",nzSize:"nzSize",nzCompact:[2,"nzCompact","nzCompact",F]},exportAs:["nzInputNumberGroup"],standalone:!0,features:[rt([Ot]),W,tt,E],ngContentSelectors:Pe,decls:6,vars:1,consts:[["affixTemplate",""],["contentTemplate",""],[1,"ant-input-number-wrapper","ant-input-number-group"],["nz-input-number-group-slot","","type","addon",3,"icon","template"],[1,"ant-input-number-affix-wrapper",3,"ant-input-number-affix-wrapper-disabled","ant-input-number-affix-wrapper-sm","ant-input-number-affix-wrapper-lg","ant-input-number-affix-wrapper-focused","ngClass"],[3,"ngTemplateOutlet"],[1,"ant-input-number-affix-wrapper",3,"ngClass"],["nz-input-number-group-slot","","type","prefix",3,"icon","template"],["nz-input-number-group-slot","","type","suffix",3,"icon","template"],[3,"status"],["nz-input-number-group-slot","","type","suffix"]],template:function(e,i){e&1&&(ot(),z(0,zi,5,3,"span",2)(1,yi,2,1)(2,wi,3,3,"ng-template",null,0,$t)(4,Ti,2,1,"ng-template",null,1,$t)),e&2&&C(i.isAddOn?0:1)},dependencies:[Re,ne,bt,Ut,Qt],encapsulation:2,changeDetection:0})}}return n})(),Be=(()=>{class n{static{this.\u0275fac=function(e){return new(e||n)}}static{this.\u0275mod=q({type:n})}static{this.\u0275inj=Z({imports:[Pt,Ai,Re]})}}return n})();var Ei=["*"],Oi=n=>({$implicit:n});function ki(n,a){}function Vi(n,a){if(n&1&&(l(0,"span",3),z(1,ki,0,0,"ng-template",4),u()),n&2){let t=r(),e=t.$index,i=t.$count,o=r();zt("margin-bottom",o.nzDirection==="vertical"?e===i-1?null:o.spaceSize:null,"px")("margin-right",o.nzDirection==="horizontal"?e===i-1?null:o.spaceSize:null,"px"),p(),c("ngTemplateOutlet",o.nzSplit)("ngTemplateOutletContext",ie(6,Oi,e))}}function Pi(n,a){if(n&1&&(l(0,"div",0),te(1,1),u(),z(2,Vi,2,8,"span",2)),n&2){let t=a.$implicit,e=a.$index,i=a.$count,o=r();zt("margin-bottom",o.nzDirection==="vertical"?e===i-1?null:o.spaceSize:null,"px")("margin-right",o.nzDirection==="horizontal"?e===i-1?null:o.spaceSize:null,"px"),p(),c("ngTemplateOutlet",t),p(),C(o.nzSplit&&e!==i-1?2:-1)}}var Jt=(()=>{class n{constructor(){}static{this.\u0275fac=function(e){return new(e||n)}}static{this.\u0275dir=jt({type:n,selectors:[["","nzSpaceItem",""]],standalone:!0})}}return n})(),Ri="space",Le={small:8,middle:16,large:24},je=(()=>{class n{constructor(t,e){this.nzConfigService=t,this.cdr=e,this._nzModuleName=Ri,this.nzDirection="horizontal",this.nzSplit=null,this.nzWrap=!1,this.nzSize="small",this.spaceSize=Le.small,this.destroy$=new G}updateSpaceItems(){let t=typeof this.nzSize=="string"?Le[this.nzSize]:this.nzSize;this.spaceSize=t/(this.nzSplit?2:1),this.cdr.markForCheck()}ngOnChanges(){this.updateSpaceItems(),this.mergedAlign=this.nzAlign===void 0&&this.nzDirection==="horizontal"?"center":this.nzAlign}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}ngAfterContentInit(){this.updateSpaceItems(),this.items.changes.pipe(_(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}static{this.\u0275fac=function(e){return new(e||n)(h(wt),h(H))}}static{this.\u0275cmp=D({type:n,selectors:[["nz-space"],["","nz-space",""]],contentQueries:function(e,i,o){if(e&1&&_t(o,Jt,4,Xt),e&2){let s;k(s=V())&&(i.items=s)}},hostAttrs:[1,"ant-space"],hostVars:14,hostBindings:function(e,i){e&2&&(zt("flex-wrap",i.nzWrap?"wrap":null),T("ant-space-horizontal",i.nzDirection==="horizontal")("ant-space-vertical",i.nzDirection==="vertical")("ant-space-align-start",i.mergedAlign==="start")("ant-space-align-end",i.mergedAlign==="end")("ant-space-align-center",i.mergedAlign==="center")("ant-space-align-baseline",i.mergedAlign==="baseline"))},inputs:{nzDirection:"nzDirection",nzAlign:"nzAlign",nzSplit:"nzSplit",nzWrap:[2,"nzWrap","nzWrap",F],nzSize:"nzSize"},exportAs:["NzSpace"],standalone:!0,features:[W,tt,E],ngContentSelectors:Ei,decls:3,vars:0,consts:[[1,"ant-space-item"],[3,"ngTemplateOutlet"],[1,"ant-space-split",3,"margin-bottom","margin-right"],[1,"ant-space-split"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){e&1&&(ot(),st(0),Ct(1,Pi,3,6,null,null,gt)),e&2&&(p(),St(i.items))},dependencies:[bt],encapsulation:2,changeDetection:0})}}return ct([It()],n.prototype,"nzSize",void 0),n})(),Ge=(()=>{class n{static{this.\u0275fac=function(e){return new(e||n)}}static{this.\u0275mod=q({type:n})}static{this.\u0275inj=Z({})}}return n})();var $i=["switchElement"];function Hi(n,a){n&1&&x(0,"span",3)}function Qi(n,a){if(n&1&&(it(0),g(1),nt()),n&2){let t=r(2);p(),$(t.nzCheckedChildren)}}function Ui(n,a){if(n&1&&z(0,Qi,2,1,"ng-container",6),n&2){let t=r();c("nzStringTemplateOutlet",t.nzCheckedChildren)}}function Ji(n,a){if(n&1&&(it(0),g(1),nt()),n&2){let t=r(2);p(),$(t.nzUnCheckedChildren)}}function Zi(n,a){if(n&1&&z(0,Ji,2,1,"ng-container",6),n&2){let t=r();c("nzStringTemplateOutlet",t.nzUnCheckedChildren)}}var qi="switch",Zt=(()=>{class n{updateValue(t){this.isChecked!==t&&(this.isChecked=t,this.onChange(this.isChecked))}focus(){this.focusMonitor.focusVia(this.switchElement.nativeElement,"keyboard")}blur(){this.switchElement.nativeElement.blur()}constructor(t,e,i,o,s,m){this.nzConfigService=t,this.host=e,this.ngZone=i,this.cdr=o,this.focusMonitor=s,this.directionality=m,this._nzModuleName=qi,this.isChecked=!1,this.onChange=()=>{},this.onTouched=()=>{},this.nzLoading=!1,this.nzDisabled=!1,this.nzControl=!1,this.nzCheckedChildren=null,this.nzUnCheckedChildren=null,this.nzSize="default",this.nzId=null,this.dir="ltr",this.destroy$=new G,this.isNzDisableFirstChange=!0}ngOnInit(){this.directionality.change.pipe(_(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.ngZone.runOutsideAngular(()=>{A(this.host.nativeElement,"click").pipe(_(this.destroy$)).subscribe(t=>{t.preventDefault(),!(this.nzControl||this.nzDisabled||this.nzLoading)&&this.ngZone.run(()=>{this.updateValue(!this.isChecked),this.cdr.markForCheck()})}),A(this.switchElement.nativeElement,"keydown").pipe(_(this.destroy$)).subscribe(t=>{if(this.nzControl||this.nzDisabled||this.nzLoading)return;let{keyCode:e}=t;e!==37&&e!==39&&e!==32&&e!==13||(t.preventDefault(),this.ngZone.run(()=>{e===37?this.updateValue(!1):e===39?this.updateValue(!0):(e===32||e===13)&&this.updateValue(!this.isChecked),this.cdr.markForCheck()}))})})}ngAfterViewInit(){this.focusMonitor.monitor(this.switchElement.nativeElement,!0).pipe(_(this.destroy$)).subscribe(t=>{t||Promise.resolve().then(()=>this.onTouched())})}ngOnDestroy(){this.focusMonitor.stopMonitoring(this.switchElement.nativeElement),this.destroy$.next(),this.destroy$.complete()}writeValue(t){this.isChecked=t,this.cdr.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||t,this.isNzDisableFirstChange=!1,this.cdr.markForCheck()}static{this.\u0275fac=function(e){return new(e||n)(h(wt),h(et),h(ht),h(H),h(ut),h(lt))}}static{this.\u0275cmp=D({type:n,selectors:[["nz-switch"]],viewQuery:function(e,i){if(e&1&&K($i,7),e&2){let o;k(o=V())&&(i.switchElement=o.first)}},inputs:{nzLoading:[2,"nzLoading","nzLoading",F],nzDisabled:[2,"nzDisabled","nzDisabled",F],nzControl:[2,"nzControl","nzControl",F],nzCheckedChildren:"nzCheckedChildren",nzUnCheckedChildren:"nzUnCheckedChildren",nzSize:"nzSize",nzId:"nzId"},exportAs:["nzSwitch"],standalone:!0,features:[rt([{provide:Ft,useExisting:mt(()=>n),multi:!0}]),W,E],decls:8,vars:15,consts:[["switchElement",""],["nz-wave","","type","button",1,"ant-switch",3,"disabled","nzWaveExtraNode"],[1,"ant-switch-handle"],["nz-icon","","nzType","loading",1,"ant-switch-loading-icon"],[1,"ant-switch-inner"],[1,"ant-click-animating-node"],[4,"nzStringTemplateOutlet"]],template:function(e,i){e&1&&(l(0,"button",1,0)(2,"span",2),z(3,Hi,1,0,"span",3),u(),l(4,"span",4),z(5,Ui,1,1,"ng-container")(6,Zi,1,1,"ng-container"),u(),x(7,"div",5),u()),e&2&&(T("ant-switch-checked",i.isChecked)("ant-switch-loading",i.nzLoading)("ant-switch-disabled",i.nzDisabled)("ant-switch-small",i.nzSize==="small")("ant-switch-rtl",i.dir==="rtl"),c("disabled",i.nzDisabled)("nzWaveExtraNode",!0),ft("id",i.nzId),p(3),C(i.nzLoading?3:-1),p(2),C(i.isChecked?5:6))},dependencies:[le,kt,U,Q,Nt,xt],encapsulation:2,changeDetection:0})}}return ct([It()],n.prototype,"nzSize",void 0),n})(),We=(()=>{class n{static{this.\u0275fac=function(e){return new(e||n)}}static{this.\u0275mod=q({type:n})}static{this.\u0275inj=Z({imports:[Zt]})}}return n})();var pt=(()=>{class n{constructor(){}static{this.SETTINGS="settings"}get(t){return new S(e=>{let i=localStorage.getItem(t);i==null?(e.next(null),e.complete()):(e.next(JSON.parse(i)),e.complete())})}set(t,e){return new S(i=>{localStorage.setItem(t,JSON.stringify(e)),i.next(),i.complete()})}static{this.\u0275fac=function(e){return new(e||n)}}static{this.\u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var He=(()=>{class n{constructor(t){this.localStorageManager=t}getOrCreateSettings(){return new S(t=>{setTimeout(()=>f(this,null,function*(){let e=yield d(this.localStorageManager.get(pt.SETTINGS));e==null&&(e=this.createDefaultSettings());let i=this.createDefaultSettings();e=J(J({},i),e),t.next(e),t.complete()}))})}saveSettings(t){return new S(e=>{setTimeout(()=>f(this,null,function*(){yield d(this.localStorageManager.set(pt.SETTINGS,t)),e.next(),e.complete()}))})}createDefaultSettings(){return{marketExpireMin:2*60,market:{expireMin:2*60,defaultStationId:60003760,stations:[{systemId:30000142,stationId:60003760,alias:"\u5409\u4ED6",autoloading:!0}]}}}static{this.\u0275fac=function(e){return new(e||n)(w(pt))}}static{this.\u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Qe=(()=>{class n{constructor(t,e,i){this.eveEsiApi=t,this.loadingViewManager=e,this.keyValueRepository=i,this.systemDictOV=new ve,this.initLoadingViewVo=this.loadingViewManager.register("SystemRepositoryService","\u4ECEESI\u83B7\u53D6\u661F\u7CFB\u6570\u636E",1),this.init().subscribe(()=>{this.loadingViewManager.finished(this.initLoadingViewVo)})}init(){return new S(t=>{setTimeout(()=>f(this,null,function*(){let e=yield d(this.keyValueRepository.getSystemDict());e==null&&(e=yield d(this.initGetSystemDictByEsi())),this.systemDictOV.setValue(e),t.next(),t.complete()}))})}initGetSystemDictByEsi(){return new S(t=>{setTimeout(()=>f(this,null,function*(){let e={},i=yield d(this.eveEsiApi.universeSystems());this.initLoadingViewVo.totalStep+=i.length;let o=0;do{let s=[];for(let N=0;N<10&&!(o>=i.length);N++){let v=i[o];s.push(this.eveEsiApi.universeSystem(v).pipe(P(Rt=>(this.initLoadingViewVo.doneStep++,Rt)))),o++}let m=yield d(dt(s));for(let N in m){let v=m[N];e[v.system_id]=v}}while(o<i.length);yield d(this.keyValueRepository.setSystemDict(e)),t.next(e),t.complete()}))})}getSystem(t){return new S(e=>{setTimeout(()=>f(this,null,function*(){let i=yield d(this.systemDictOV);if(i==null){e.next(null),e.complete();return}let o=i[t]??null;e.next(o),e.complete()}))})}static{this.\u0275fac=function(e){return new(e||n)(w(Vt),w(Ne),w(we))}}static{this.\u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Ue=(()=>{class n{constructor(t,e){this.indexedDBManager=t,this.eveEsiApi=e}getStationsBySystem(t){return new S(e=>{setTimeout(()=>f(this,null,function*(){if(t.stations===void 0||t.stations===null||t.stations.length===0){e.next([]),e.complete();return}let i=[];for(let s in t.stations){let m=t.stations[s];i.push(this.getStation(m))}let o=yield d(dt(i));e.next(o),e.complete()}))})}getStation(t){return new S(e=>{setTimeout(()=>f(this,null,function*(){let i=yield d(new S(o=>{setTimeout(()=>f(this,null,function*(){let m=(yield d(this.indexedDBManager.getStationStore())).get(t);m.onsuccess=N=>{let v=N.target.result;v?o.next(v):o.next(null),o.complete()},m.onerror=N=>{console.error("StationRepositoryService.getStation error",N),o.next(null),o.complete()}}))}));i==null&&(i=yield d(this.eveEsiApi.universeStation(t))),yield d(new S(o=>{setTimeout(()=>f(this,null,function*(){let m=(yield d(this.indexedDBManager.getStationStore())).put(i);m.onsuccess=()=>{o.next(),o.complete()},m.onerror=N=>{console.error("StationRepositoryService.getStation put error",N),o.next(),o.complete()}}))})),e.next(i),e.complete()}))})}static{this.\u0275fac=function(e){return new(e||n)(w(xe),w(Vt))}}static{this.\u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Je=(()=>{class n{constructor(t,e){this.systemRepository=t,this.stationRepository=e}systemOptions(){return this.systemRepository.systemDictOV.pipe(P(t=>{let e=[];for(let i in t){let o=t[i];e.push({label:o.name,value:o.system_id})}return e}))}stationOptions(t){return new S(e=>{setTimeout(()=>f(this,null,function*(){let i=yield d(this.systemRepository.getSystem(t));if(i==null){e.next([]),e.complete();return}let o=yield d(this.stationRepository.getStationsBySystem(i)),s=[];for(let m of o)s.push({label:m.name,value:m.station_id});e.next(s),e.complete()}))})}getSystemName(t){return this.systemRepository.getSystem(t).pipe(P(e=>e?.name??""))}getStationName(t){return this.stationRepository.getStation(t).pipe(P(e=>e?.name??""))}static{this.\u0275fac=function(e){return new(e||n)(w(Qe),w(Ue))}}static{this.\u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var rn=()=>({standalone:!0});function an(n,a){if(n&1){let t=O();l(0,"tr")(1,"td"),g(2),u(),l(3,"td")(4,"input",11),L("ngModelChange",function(i){let o=y(t).$implicit;return B(o.alias,i)||(o.alias=i),b(i)}),u()(),l(5,"td")(6,"nz-switch",12),L("ngModelChange",function(i){let o=y(t).$implicit;return B(o.autoloading,i)||(o.autoloading=i),b(i)}),u()(),l(7,"td")(8,"button",13),g(9,"\u5220\u9664"),u()()()}if(n&2){let t=a.$implicit,e=r();p(2),$(e.getSystemOrStationName(t.systemId,t.stationId)),p(2),R("ngModel",t.alias),p(2),R("ngModel",t.autoloading)}}function ln(n,a){if(n&1){let t=O();l(0,"tr")(1,"td")(2,"nz-select",14),L("ngModelChange",function(i){y(t);let o=r();return B(o.marketTableAddForm.systemId,i)||(o.marketTableAddForm.systemId=i),b(i)}),I("ngModelChange",function(){y(t);let i=r();return b(i.onSystemIdChange())}),u(),l(3,"nz-select",15),L("ngModelChange",function(i){y(t);let o=r();return B(o.marketTableAddForm.stationId,i)||(o.marketTableAddForm.stationId=i),b(i)}),u()(),l(4,"td")(5,"input",11),L("ngModelChange",function(i){y(t);let o=r();return B(o.marketTableAddForm.alias,i)||(o.marketTableAddForm.alias=i),b(i)}),u()(),l(6,"td")(7,"nz-switch",12),L("ngModelChange",function(i){y(t);let o=r();return B(o.marketTableAddForm.autoloading,i)||(o.marketTableAddForm.autoloading=i),b(i)}),u()(),l(8,"td")(9,"button",16),I("click",function(){y(t);let i=r();return b(i.onSubmitAddMarketStationClick())}),g(10,"\u786E\u5B9A"),u(),l(11,"button",17),I("click",function(){y(t);let i=r();return b(i.onCancelAddMarketStationClick())}),g(12,"\u53D6\u6D88"),u()()()}if(n&2){let t=r();p(2),c("nzOptions",t.systemOptions),R("ngModel",t.marketTableAddForm.systemId),p(),c("nzOptions",t.stationOptions),R("ngModel",t.marketTableAddForm.stationId),c("nzLoading",t.stationOptionsLoading),p(2),R("ngModel",t.marketTableAddForm.alias),p(2),R("ngModel",t.marketTableAddForm.autoloading),p(2),c("disabled",t.addMarketStationSubmitButtonDisable)}}function un(n,a){if(n&1){let t=O();l(0,"tr"),x(1,"td")(2,"td")(3,"td"),l(4,"td")(5,"button",17),I("click",function(){y(t);let i=r();return b(i.onAddMarketStationClick())}),g(6,"\u65B0\u589E"),u()()()}}function pn(n,a){if(n&1){let t=O();l(0,"button",18),I("click",function(){y(t);let i=r();return b(i.onSubmitClickAsync())}),g(1,"\u786E\u8BA4\u4FEE\u6539"),u()}if(n&2){let t=r();c("disabled",!t.isFormValueChange)("nzLoading",t.formLoading)}}function cn(n,a){if(n&1){let t=O();l(0,"button",19),I("click",function(){y(t);let i=r();return b(i.onRevertClickAsync())}),g(1,"\u8FD8\u539F\u4FEE\u6539"),u()}if(n&2){let t=r();c("nzLoading",t.formLoading)("disabled",!t.isFormValueChange)}}function dn(n,a){if(n&1){let t=O();l(0,"button",20),I("click",function(){y(t);let i=r();return b(i.onLoadDefaultClickAsync())}),g(1,"\u52A0\u8F7D\u9ED8\u8BA4\u914D\u7F6E"),u()}if(n&2){let t=r();c("nzLoading",t.formLoading)}}var Qo=(()=>{class n{constructor(t,e){this.settingsService=t,this.universeService=e,this.settings=this.settingsService.createDefaultSettings(),this.originSettings=this.settingsService.createDefaultSettings(),this.formLoading=!0,this.marketTableAddForm=this.createDefaultMarketTableAddForm(),this.systemOptions=[],this.stationOptions=[],this.stationOptionsLoading=!1,this.systemOrStationNamesCache={},this.systemOrStationNamesCacheLoading=!1}ngAfterContentInit(){this.formLoading=!0,this.init().subscribe(()=>{this.formLoading=!1})}get isFormValueChange(){return JSON.stringify(this.settings)!=JSON.stringify(this.originSettings)}get addMarketStationSubmitButtonDisable(){return this.marketTableAddForm.systemId==null||this.marketTableAddForm.alias==""}init(){return this.formLoading=!0,new S(t=>{setTimeout(()=>f(this,null,function*(){this.systemOptions=yield d(this.universeService.systemOptions()),this.settings=yield d(this.settingsService.getOrCreateSettings()),this.originSettings=JSON.parse(JSON.stringify(this.settings)),t.next(),t.complete()}))})}onSubmitClickAsync(){return f(this,null,function*(){this.formLoading=!0,yield d(this.settingsService.saveSettings(this.settings)),this.originSettings=JSON.parse(JSON.stringify(this.settings)),this.formLoading=!1})}onRevertClickAsync(){return f(this,null,function*(){this.formLoading=!0,this.settings=JSON.parse(JSON.stringify(this.originSettings)),this.formLoading=!1})}onLoadDefaultClickAsync(){return f(this,null,function*(){this.formLoading=!0,this.settings=this.settingsService.createDefaultSettings(),this.formLoading=!1})}onAddMarketStationClick(){return f(this,null,function*(){this.marketTableAddForm=this.createDefaultMarketTableAddForm(),this.marketTableAddForm.adding=!0})}onCancelAddMarketStationClick(){return f(this,null,function*(){this.marketTableAddForm.adding=!1})}onSubmitAddMarketStationClick(){return f(this,null,function*(){this.settings.market.stations.push({systemId:this.marketTableAddForm.systemId,stationId:this.marketTableAddForm.stationId,alias:this.marketTableAddForm.alias,autoloading:this.marketTableAddForm.autoloading}),this.marketTableAddForm.adding=!1})}createDefaultMarketTableAddForm(){return{adding:!1,systemId:void 0,stationId:void 0,alias:"",autoloading:!1}}onSystemIdChange(){return f(this,null,function*(){this.stationOptionsLoading=!0,this.marketTableAddForm.alias=yield d(this.universeService.getSystemName(this.marketTableAddForm.systemId)),this.marketTableAddForm.stationId=void 0,this.stationOptions=yield d(this.universeService.stationOptions(this.marketTableAddForm.systemId)),this.stationOptionsLoading=!1})}getSystemOrStationName(t,e){let i=t+"_";return e&&(i+=e),this.systemOrStationNamesCache[i]||setTimeout(()=>f(this,null,function*(){this.loadSystemOrStationNamesCacheAsync()})),this.systemOrStationNamesCache[i]??""}loadSystemOrStationNamesCacheAsync(){return f(this,null,function*(){if(!this.systemOrStationNamesCacheLoading){this.systemOrStationNamesCacheLoading=!0;for(let t in this.settings.market.stations){let e=this.settings.market.stations[t],i=e.systemId+"_";e.stationId&&(i+=e.stationId);let o=e.stationId?yield d(this.universeService.getStationName(e.stationId)):yield d(this.universeService.getSystemName(e.systemId));this.systemOrStationNamesCache[i]=o}this.systemOrStationNamesCache=JSON.parse(JSON.stringify(this.systemOrStationNamesCache)),this.systemOrStationNamesCacheLoading=!1}})}static{this.\u0275fac=function(e){return new(e||n)(h(He),h(Je))}}static{this.\u0275cmp=D({type:n,selectors:[["app-settings"]],standalone:!0,features:[E],decls:35,vars:6,consts:[["nzTitle","\u5DE5\u4E1A"],["nzTitle","\u5E02\u573A"],["nzSpan","4"],["nz-icon","","nzType","info-circle","nzTheme","outline","nz-tooltip","","nzTooltipTitle","\u5F53\u6570\u636E\u6709\u6548\u6027\u8D85\u8FC7\u8FD9\u4E2A\u65F6\u95F4\uFF0C\u5C06\u4F1A\u91CD\u65B0\u4ECEESI\u670D\u52A1\u5668\u62C9\u53BB\u65B0\u7684\u6570\u636E"],["nzSpan","20"],[3,"ngModelChange","ngModel","ngModelOptions","disabled"],["nz-icon","","nzType","info-circle","nzTheme","outline","nz-tooltip","","nzTooltipTitle","\u4F1A\u6839\u636E\u60C5\u51B5\u81EA\u52A8/\u624B\u52A8\u66F4\u65B0\u6570\u636E\u3002\u3010\u5DE5\u4E1A\u3011\u8BBE\u7F6E\u4E2D\u53EF\u4EE5\u9009\u62E9\u4F7F\u7528\u8FD9\u4E9B\u6570\u636E\u6765\u4F5C\u4E3A\u4EF7\u683C\u53C2\u8003"],["nzSize","small",3,"nzData"],["nz-button","","nzType","primary",3,"disabled","nzLoading","click",4,"nzSpaceItem"],["nz-button","","nz-tooltip","","nzTooltipTitle","\u653E\u5F03\u672C\u6B21\u4FEE\u6539\uFF0C\u5C06\u6570\u636E\u8FD8\u539F\u6210\u6CA1\u6709\u4FEE\u6539\u524D\u7684\u6837\u5B50",3,"nzLoading","disabled","click",4,"nzSpaceItem"],["nz-button","","nz-tooltip","","nzTooltipTitle","\u5C06\u914D\u7F6E\u6062\u590D\u5230\u9ED8\u8BA4\u503C",3,"nzLoading","click",4,"nzSpaceItem"],["nz-input","","type","text",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],["nz-button",""],["nzShowSearch","",3,"ngModelChange","nzOptions","ngModel"],["nzShowSearch","",3,"ngModelChange","nzOptions","ngModel","nzLoading"],["nz-button","","nzType","primary",3,"click","disabled"],["nz-button","",3,"click"],["nz-button","","nzType","primary",3,"click","disabled","nzLoading"],["nz-button","","nz-tooltip","","nzTooltipTitle","\u653E\u5F03\u672C\u6B21\u4FEE\u6539\uFF0C\u5C06\u6570\u636E\u8FD8\u539F\u6210\u6CA1\u6709\u4FEE\u6539\u524D\u7684\u6837\u5B50",3,"click","nzLoading","disabled"],["nz-button","","nz-tooltip","","nzTooltipTitle","\u5C06\u914D\u7F6E\u6062\u590D\u5230\u9ED8\u8BA4\u503C",3,"click","nzLoading"]],template:function(e,i){e&1&&(l(0,"nz-tabset"),x(1,"nz-tab",0),l(2,"nz-tab",1)(3,"nz-form-item")(4,"nz-form-label",2),g(5," \u5E02\u573A\u6570\u636E\u65F6\u6548 "),x(6,"span",3),u(),l(7,"nz-form-control",4)(8,"nz-input-number",5),L("ngModelChange",function(s){return B(i.settings.marketExpireMin,s)||(i.settings.marketExpireMin=s),s}),u(),g(9,"\u5206\u949F "),u()(),l(10,"nz-form-item")(11,"nz-form-label",2),g(12," \u5E02\u573A\u5730\u70B9 "),x(13,"span",6),u(),l(14,"nz-form-control",4)(15,"nz-table",7)(16,"thead")(17,"tr")(18,"th"),g(19,"\u4F4D\u7F6E"),u(),l(20,"th"),g(21,"\u522B\u79F0"),u(),l(22,"th"),g(23,"\u81EA\u52A8\u66F4\u65B0"),u(),l(24,"th"),g(25,"\u64CD\u4F5C"),u()()(),l(26,"tbody"),Ct(27,an,10,3,"tr",null,gt),z(29,ln,13,8,"tr")(30,un,7,0,"tr"),u()()()()()(),l(31,"nz-space"),z(32,pn,2,2,"button",8)(33,cn,2,2,"button",9)(34,dn,2,1,"button",10),u()),e&2&&(p(8),R("ngModel",i.settings.marketExpireMin),c("ngModelOptions",ee(5,rn))("disabled",i.formLoading),p(7),c("nzData",i.settings.market.stations),p(12),St(i.settings.market.stations),p(2),C(i.marketTableAddForm.adding?29:30))},dependencies:[Dt,Tt,At,Mt,oe,pe,ue,ae,kt,Oe,Fe,Ie,Me,Ee,De,re,se,Be,Pt,Ge,je,Jt,Ae,Te,U,Q,me,de,ce,be,Se,ze,ge,ye,Ce,_e,We,Zt,fe,he]})}}return n})();export{Qo as a};
